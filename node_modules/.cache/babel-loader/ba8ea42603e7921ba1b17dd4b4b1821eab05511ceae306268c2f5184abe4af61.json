{"ast":null,"code":"import _objectSpread from\"C:/project/maintenance/maintenance/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect,useRef}from\"react\";import*as XLSX from\"xlsx\";import{differenceInDays,parse}from\"date-fns\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function MaintenanceEditor(){const[data,setData]=useState([]);const[search,setSearch]=useState(\"\");const[modifiedData,setModifiedData]=useState([]);const[selectedRowIndex,setSelectedRowIndex]=useState(null);const[filterMode,setFilterMode]=useState(\"all\");const[duplicatePlates,setDuplicatePlates]=useState({});const[loading,setLoading]=useState(true);const[sortConfig,setSortConfig]=useState({key:null,direction:\"asc\"});const[editCell,setEditCell]=useState({row:null,key:null});const[copiedCell,setCopiedCell]=useState({row:null,col:null});const[invygoList,setInvygoList]=useState([]);const tableRef=useRef(null);// ÿ™ÿ≠ŸÖŸäŸÑ ŸÇÿßÿ¶ŸÖÿ© invygo ŸÖŸÜ ÿ¥Ÿäÿ™ ÿÆÿßÿ±ÿ¨Ÿä\nuseEffect(()=>{const url=\"https://docs.google.com/spreadsheets/d/1lwmAsIem7ZfaV5E107J3Od6QZDvfC2WPf_r0hlY5Yeg/export?format=csv&gid=1785287232\";fetch(url).then(res=>res.text()).then(text=>{const rows=text.split(\"\\n\").map(r=>r.split(\",\"));const headers=rows[0].map(h=>h.trim().toLowerCase());const vehicleIdx=headers.indexOf(\"vehicle\");if(vehicleIdx===-1)return;const list=rows.slice(1).map(r=>(r[vehicleIdx]||\"\").trim().toLowerCase().replace(/\\s+/g,\"\")).filter(Boolean);setInvygoList(list);});},[]);useEffect(()=>{const fetchSheet=async()=>{setLoading(true);const response=await fetch(\"https://docs.google.com/spreadsheets/d/1v4rQWn6dYPVQPd-PkhvrDNgKVnexilrR2XIUVa5RKEM/export?format=csv&gid=0\");const text=await response.text();const rows=text.split(\"\\n\").map(r=>r.split(\",\")).filter(r=>r.some(cell=>cell.trim()!==\"\"));// Ignore empty rows\nconst headers=rows[0];const parsed=rows.slice(1).map(r=>Object.fromEntries(r.map((v,i)=>[headers[i],v])));setData(parsed);setModifiedData(parsed);setLoading(false);};fetchSheet();},[]);useEffect(()=>{const counts={};modifiedData.forEach(row=>{var _row$Vehicle;const plate=(_row$Vehicle=row[\"Vehicle\"])===null||_row$Vehicle===void 0?void 0:_row$Vehicle.trim().toLowerCase().replace(/\\s+/g,\"\");if(plate)counts[plate]=(counts[plate]||0)+1;});setDuplicatePlates(Object.fromEntries(Object.entries(counts).filter(_ref=>{let[_,c]=_ref;return c>1;})));},[modifiedData]);const today=new Date();const parseDate=str=>{if(!str||typeof str!==\"string\")return new Date(\"Invalid\");const formats=[\"dd/MM/yyyy\",\"d-M-yyyy\",\"dd-MM-yyyy\",\"yyyy-MM-dd\"];for(const format of formats){const parsed=parse(str,format,new Date());if(!isNaN(parsed))return parsed;}const fallback=new Date(str);return isNaN(fallback)?new Date(\"Invalid\"):fallback;};const getDelayedCars=rows=>{return rows.filter(row=>{var _row$damageKey,_row$dateOutKey,_row$dateInKey;const damageKey=Object.keys(row).find(k=>k.toLowerCase().includes(\"damag\"));const dateOutKey=Object.keys(row).find(k=>k.toLowerCase().includes(\"date out\"));const dateInKey=Object.keys(row).find(k=>k.toLowerCase().includes(\"date in\"));const damage=damageKey&&((_row$damageKey=row[damageKey])===null||_row$damageKey===void 0?void 0:_row$damageKey.toLowerCase());const dateOutStr=dateOutKey&&((_row$dateOutKey=row[dateOutKey])===null||_row$dateOutKey===void 0?void 0:_row$dateOutKey.trim());const dateIn=dateInKey&&((_row$dateInKey=row[dateInKey])===null||_row$dateInKey===void 0?void 0:_row$dateInKey.trim());if(!dateOutStr||dateIn)return false;const dateOut=parseDate(dateOutStr);if(isNaN(dateOut))return false;const daysPassed=differenceInDays(today,dateOut);if(damage!==null&&damage!==void 0&&damage.includes(\"oil\")&&daysPassed>3)return true;if(damage!==null&&damage!==void 0&&damage.includes(\"accident\")&&daysPassed>30)return true;if(!(damage!==null&&damage!==void 0&&damage.includes(\"oil\"))&&!(damage!==null&&damage!==void 0&&damage.includes(\"accident\"))&&daysPassed>3)return true;return false;});};const delayedCars=getDelayedCars(modifiedData);// ÿØŸÖÿ¨ ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑŸÅŸÑÿ™ÿ±ÿ© ŸÖÿπ ÿßŸÑÿ®ÿ≠ÿ´\nconst filtered=modifiedData.filter(row=>{var _row$damageKey2,_row$dateInKey2,_row$Vehicle2;const matchesSearch=search.trim()===\"\"||Object.values(row).some(v=>v.toLowerCase().includes(search.toLowerCase()));const dateInKey=Object.keys(row).find(k=>k.toLowerCase().includes(\"date in\"));const damageKey=Object.keys(row).find(k=>k.toLowerCase().includes(\"damag\"));const damageText=damageKey&&((_row$damageKey2=row[damageKey])===null||_row$damageKey2===void 0?void 0:_row$damageKey2.toLowerCase());const hasDate=dateInKey&&((_row$dateInKey2=row[dateInKey])===null||_row$dateInKey2===void 0?void 0:_row$dateInKey2.trim())!==\"\";const plate=(_row$Vehicle2=row[\"Vehicle\"])===null||_row$Vehicle2===void 0?void 0:_row$Vehicle2.trim().toLowerCase().replace(/\\s+/g,\"\");if(filterMode===\"accident\")return matchesSearch&&(damageText===null||damageText===void 0?void 0:damageText.includes(\"accident\"))&&!hasDate;if(filterMode===\"invygo\")return matchesSearch&&plate&&invygoList.includes(plate)&&!hasDate;if(filterMode===\"notready\")return matchesSearch&&!hasDate;if(filterMode===\"duplicates\"){// Ÿäÿ∏Ÿáÿ± ŸÉŸÑ ÿµŸÅ ŸÖŸÉÿ±ÿ± ŸÑÿß ŸäŸàÿ¨ÿØ ŸÑŸá ÿ™ÿßÿ±ŸäÿÆ ÿØÿÆŸàŸÑ\nreturn matchesSearch&&plate&&duplicatePlates[plate]&&!hasDate;}if(filterMode===\"delayed\")return matchesSearch&&delayedCars.includes(row);return matchesSearch;});// Sorting logic\nconst sortedData=(()=>{// ÿ•ÿ∞ÿß ŸÑŸÖ Ÿäÿ™ŸÖ ÿßÿÆÿ™Ÿäÿßÿ± ŸÅÿ±ÿ≤ ÿ£Ÿà ÿ™ŸÖ ÿßŸÑÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿπŸÖŸàÿØ ÿßŸÑÿ™ÿ±ŸÇŸäŸÖ (#) Ÿäÿ™ŸÖ ÿπÿ±ÿ∂ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÉŸÖÿß ŸáŸä ÿ®ÿπÿØ ÿßŸÑŸÅŸÑÿ™ÿ±ÿ©\nif(!sortConfig.key||sortConfig.key===\"__index__\")return filtered;return[...filtered].sort((a,b)=>{const aVal=a[sortConfig.key]||\"\";const bVal=b[sortConfig.key]||\"\";if(aVal<bVal)return sortConfig.direction===\"asc\"?-1:1;if(aVal>bVal)return sortConfig.direction===\"asc\"?1:-1;return 0;});})();const handleSort=key=>{// If click on # column, reset sort\nif(key===\"__index__\"){setSortConfig({key:null,direction:\"asc\"});return;}setSortConfig(prev=>{if(prev.key===key){return{key,direction:prev.direction===\"asc\"?\"desc\":\"asc\"};}return{key,direction:\"asc\"};});};// Inline editing\nconst handleCellDoubleClick=(rowIdx,key)=>{setEditCell({row:rowIdx,key});};const handleCellChange=(e,rowIdx,key)=>{const value=e.target.value;setModifiedData(prev=>{const updated=[...prev];updated[rowIdx]=_objectSpread(_objectSpread({},updated[rowIdx]),{},{[key]:value});return updated;});};const handleCellBlur=()=>setEditCell({row:null,key:null});const handleCellKeyDown=e=>{if(e.key===\"Enter\"||e.key===\"Escape\")handleCellBlur();};// Copy cell content on click (except index column)\nconst handleCellClick=(rowIdx,colKey,value)=>{if(colKey===\"__index__\")return;navigator.clipboard.writeText(value);setCopiedCell({row:rowIdx,col:colKey});setTimeout(()=>setCopiedCell({row:null,col:null}),900);};const getRowStyle=row=>{var _row$dateInKey3,_row$damageKey3,_row$Vehicle3;const dateInKey=Object.keys(row).find(k=>k.toLowerCase().includes(\"date in\"));const damageKey=Object.keys(row).find(k=>k.toLowerCase().includes(\"damag\"));const dateIn=dateInKey&&((_row$dateInKey3=row[dateInKey])===null||_row$dateInKey3===void 0?void 0:_row$dateInKey3.trim());const damageText=damageKey&&((_row$damageKey3=row[damageKey])===null||_row$damageKey3===void 0?void 0:_row$damageKey3.toLowerCase());const plate=(_row$Vehicle3=row[\"Vehicle\"])===null||_row$Vehicle3===void 0?void 0:_row$Vehicle3.trim().toLowerCase().replace(/\\s+/g,\"\");const isInvygo=invygoList.includes(plate);const isAccident=(damageText===null||damageText===void 0?void 0:damageText.includes(\"accident\"))&&!dateIn;const isReady=Boolean(dateIn);if(plate&&duplicatePlates[plate])return{backgroundColor:\"#e53935\",color:\"#fff\"};if(delayedCars.includes(row))return{backgroundColor:\"#ff7043\",color:\"#fff\"};if(isInvygo&&isReady)return{backgroundColor:\"#81c784\"};if(isInvygo&&!isReady)return{backgroundColor:\"#64b5f6\"};if(!isInvygo&&isReady)return{backgroundColor:\"#ce93d8\"};if(!isInvygo&&!isReady)return{backgroundColor:\"#ffd600\"};if(isAccident)return{backgroundColor:\"#ef9a9a\"};return{};};const exportToExcel=()=>{const ws=XLSX.utils.json_to_sheet(sortedData);const wb=XLSX.utils.book_new();XLSX.utils.book_append_sheet(wb,ws,\"Maintenance\");XLSX.writeFile(wb,\"Maintenance_\".concat(new Date().toISOString().slice(0,10),\".xlsx\"));};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20,fontFamily:\"Segoe UI\",position:\"relative\",background:\"#fffde7\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",gap:20,flexWrap:\"wrap\",marginBottom:24},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:\"#81c784\",padding:\"4px 8px\",borderRadius:6,color:\"#000\"},children:\"\\u2B24 Invygo - Repaired\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:\"#64b5f6\",padding:\"4px 8px\",borderRadius:6,color:\"#000\"},children:\"\\u2B24 Invygo - Not Ready\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:\"#ce93d8\",padding:\"4px 8px\",borderRadius:6,color:\"#000\"},children:\"\\u2B24 Yelo - Repaired\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:\"#ef9a9a\",padding:\"4px 8px\",borderRadius:6,color:\"#000\"},children:\"\\u2B24 Accident - Not Ready\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:\"#ffd600\",padding:\"4px 8px\",borderRadius:6,color:\"#000\"},children:\"\\u2B24 Yelo - Not Ready\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:\"#ff7043\",padding:\"4px 8px\",borderRadius:6,color:\"#fff\"},children:\"\\u2B24 \\u23F1 Delayed\"})]}),/*#__PURE__*/_jsx(\"a\",{href:\"https://moalamir52.github.io/Yelo/#dashboard\",style:{position:\"absolute\",top:80,left:200,backgroundColor:\"#ffd600\",color:\"#6a1b9a\",padding:\"10px 20px\",textDecoration:\"none\",fontWeight:\"bold\",borderRadius:\"8px\",border:\"2px solid #6a1b9a\",boxShadow:\"0 4px 16px 0 #6a1b9a55\"},children:\"\\uD83D\\uDD19 Back to YELO\"}),/*#__PURE__*/_jsxs(\"h2\",{style:{textAlign:\"center\",color:\"#6a1b9a\",background:\"#ffd600\",borderRadius:12,fontWeight:\"bold\",fontSize:32,letterSpacing:1,margin:\"20px auto 18px auto\",padding:\"16px 0\",boxShadow:\"0 8px 32px 0 #6a1b9a99\",maxWidth:520,display:\"flex\",alignItems:\"center\",justifyContent:\"center\",gap:14},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:36},children:\"\\uD83D\\uDE97\"}),\"Maintenance Sheet Editor\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",flexWrap:\"wrap\",gap:10,marginBottom:10},children:[{key:\"accident\",label:\"üöó Car Accident\"},{key:\"invygo\",label:\"üì¶ Invygo Cars\"},{key:\"notready\",label:\"‚ùå Not Ready\"},{key:\"duplicates\",label:\"üõë Duplicates\"},{key:\"delayed\",label:\"‚è± Show Delayed\"},{key:\"all\",label:\"üîÑ Show All\"}].map(btn=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilterMode(btn.key),style:{backgroundColor:filterMode===btn.key?\"#6a1b9a\":\"#ffd600\",border:filterMode===btn.key?\"2px solid #ffd600\":\"1px solid #6a1b9a\",color:filterMode===btn.key?\"#fff\":\"#4a148c\",padding:\"8px 14px\",borderRadius:\"8px\",fontWeight:\"bold\",cursor:\"pointer\",fontSize:\"13px\",transition:\"0.2s\",boxShadow:\"0 8px 32px 0 #6a1b9a99\"},children:btn.label},btn.key))}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",marginBottom:18},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",background:\"#fff\",borderRadius:\"16px\",boxShadow:\"0 4px 16px #6a1b9a55\",padding:\"8px 18px\",minWidth:320,border:\"2px solid #ffd600\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:22,color:\"#6a1b9a\",marginRight:8},children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search...\",value:search,onChange:e=>setSearch(e.target.value),style:{border:\"none\",outline:\"none\",background:\"transparent\",fontSize:\"1.1em\",flex:1,padding:\"8px\",fontFamily:\"inherit\",color:\"#6a1b9a\"}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",marginBottom:20},children:/*#__PURE__*/_jsx(\"button\",{onClick:exportToExcel,style:{background:\"#6a1b9a\",color:\"#fff\",padding:\"8px 18px\",borderRadius:\"8px\",border:\"none\",fontWeight:\"bold\",fontSize:\"15px\",cursor:\"pointer\",boxShadow:\"0 4px 16px 0 #6a1b9a99\"},children:\"\\uD83D\\uDCE5 Export to Excel\"})}),loading?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",margin:\"40px 0\",fontSize:22,color:\"#6a1b9a\"},children:\"\\u23F3 Loading data...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",marginBottom:10,color:\"#555\"},children:[\"\\u2705 Showing \",sortedData.length,\" result(s)\"]}),delayedCars.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",marginBottom:10,color:\"red\",fontWeight:\"bold\"},children:[\"\\uD83D\\uDEA8 There are \",delayedCars.length,\" cars delayed beyond the allowed time in the workshop!\"]}),/*#__PURE__*/_jsx(\"div\",{ref:tableRef,style:{overflow:\"auto\",// ÿ£Ÿà overflowY: \"auto\"\nmaxHeight:\"70vh\",borderRadius:12,boxShadow:\"0 4px 32px 0 #6a1b9a66\",background:\"#fff\",marginBottom:30,position:\"relative\"},children:/*#__PURE__*/_jsxs(\"table\",{style:{borderCollapse:\"collapse\",width:\"100%\",border:\"2px solid #000\",borderRadius:12// ÿßÿ≠ÿ∞ŸÅ overflow ŸÖŸÜ ŸáŸÜÿß\n},children:[/*#__PURE__*/_jsx(\"thead\",{style:{position:\"sticky\",top:0,zIndex:10,background:\"#ffd600\"},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{border:\"1px solid #000\",padding:8,cursor:\"pointer\",userSelect:\"none\",background:\"#ffd600\",textAlign:\"center\"// ÿ£ÿ∂ŸÅ Ÿáÿ∞ÿß\n},onClick:()=>handleSort(\"__index__\"),children:\"#\"}),Object.keys(modifiedData[0]||{}).map(key=>/*#__PURE__*/_jsxs(\"th\",{style:{border:\"1px solid #000\",padding:8,cursor:\"pointer\",userSelect:\"none\",background:\"#ffd600\",textAlign:\"center\"// ÿ£ÿ∂ŸÅ Ÿáÿ∞ÿß\n},onClick:()=>handleSort(key),children:[key,sortConfig.key===key?sortConfig.direction===\"asc\"?\" ‚ñ≤\":\" ‚ñº\":\"\"]},key))]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedData.map((row,rowIndex)=>/*#__PURE__*/_jsxs(\"tr\",{style:_objectSpread(_objectSpread({},getRowStyle(row)),{},{backgroundColor:selectedRowIndex===rowIndex?\"#c5cae9\":getRowStyle(row).backgroundColor}),children:[/*#__PURE__*/_jsx(\"td\",{style:{border:\"1px solid #000\",padding:6,textAlign:\"center\",// ÿ£ÿ∂ŸÅ Ÿáÿ∞ÿß\ncursor:\"pointer\",background:\"#fffde7\"},onClick:()=>setSortConfig({key:null,direction:\"asc\"}),children:rowIndex+1}),Object.entries(row).map((_ref2,colIndex)=>{let[key,value]=_ref2;return/*#__PURE__*/_jsx(\"td\",{style:{border:\"1px solid #000\",padding:6,cursor:\"pointer\",position:\"relative\",textAlign:\"center\"// ÿ£ÿ∂ŸÅ Ÿáÿ∞ÿß\n},onClick:()=>handleCellClick(rowIndex,key,value),onDoubleClick:()=>handleCellDoubleClick(rowIndex,key),children:editCell.row===rowIndex&&editCell.key===key?/*#__PURE__*/_jsx(\"input\",{value:value,autoFocus:true,onChange:e=>handleCellChange(e,rowIndex,key),onBlur:handleCellBlur,onKeyDown:handleCellKeyDown,style:{width:\"100%\",border:\"1.5px solid #ffd600\",background:\"#fffde7\",color:\"#000\",borderRadius:4,padding:\"2px 4px\",textAlign:\"center\"// ÿ£ÿ∂ŸÅ Ÿáÿ∞ÿß\n}}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{value:value,readOnly:true,style:{width:\"100%\",border:\"none\",background:\"transparent\",pointerEvents:\"none\",color:\"#000\",textAlign:\"center\"// ÿ£ÿ∂ŸÅ Ÿáÿ∞ÿß\n}}),copiedCell.row===rowIndex&&copiedCell.col===key&&/*#__PURE__*/_jsx(\"span\",{style:{position:\"absolute\",top:2,right:8,background:\"#ffd600\",color:\"#6a1b9a\",fontWeight:\"bold\",fontSize:12,borderRadius:4,padding:\"1px 6px\",boxShadow:\"0 2px 8px #ffd60055\",zIndex:2},children:\"Copied!\"})]})},colIndex);})]},rowIndex))})]})})]})]});}","map":{"version":3,"names":["useState","useEffect","useRef","XLSX","differenceInDays","parse","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MaintenanceEditor","data","setData","search","setSearch","modifiedData","setModifiedData","selectedRowIndex","setSelectedRowIndex","filterMode","setFilterMode","duplicatePlates","setDuplicatePlates","loading","setLoading","sortConfig","setSortConfig","key","direction","editCell","setEditCell","row","copiedCell","setCopiedCell","col","invygoList","setInvygoList","tableRef","url","fetch","then","res","text","rows","split","map","r","headers","h","trim","toLowerCase","vehicleIdx","indexOf","list","slice","replace","filter","Boolean","fetchSheet","response","some","cell","parsed","Object","fromEntries","v","i","counts","forEach","_row$Vehicle","plate","entries","_ref","_","c","today","Date","parseDate","str","formats","format","isNaN","fallback","getDelayedCars","_row$damageKey","_row$dateOutKey","_row$dateInKey","damageKey","keys","find","k","includes","dateOutKey","dateInKey","damage","dateOutStr","dateIn","dateOut","daysPassed","delayedCars","filtered","_row$damageKey2","_row$dateInKey2","_row$Vehicle2","matchesSearch","values","damageText","hasDate","sortedData","sort","a","b","aVal","bVal","handleSort","prev","handleCellDoubleClick","rowIdx","handleCellChange","e","value","target","updated","_objectSpread","handleCellBlur","handleCellKeyDown","handleCellClick","colKey","navigator","clipboard","writeText","setTimeout","getRowStyle","_row$dateInKey3","_row$damageKey3","_row$Vehicle3","isInvygo","isAccident","isReady","backgroundColor","color","exportToExcel","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","concat","toISOString","style","padding","fontFamily","position","background","children","display","justifyContent","gap","flexWrap","marginBottom","borderRadius","href","top","left","textDecoration","fontWeight","border","boxShadow","textAlign","fontSize","letterSpacing","margin","maxWidth","alignItems","label","btn","onClick","cursor","transition","minWidth","marginRight","type","placeholder","onChange","outline","flex","length","ref","overflow","maxHeight","borderCollapse","width","zIndex","userSelect","rowIndex","_ref2","colIndex","onDoubleClick","autoFocus","onBlur","onKeyDown","readOnly","pointerEvents","right"],"sources":["C:/project/maintenance/maintenance/src/App.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport * as XLSX from \"xlsx\";\nimport { differenceInDays, parse } from \"date-fns\";\n\nexport default function MaintenanceEditor() {\n  const [data, setData] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [modifiedData, setModifiedData] = useState([]);\n  const [selectedRowIndex, setSelectedRowIndex] = useState(null);\n  const [filterMode, setFilterMode] = useState(\"all\");\n  const [duplicatePlates, setDuplicatePlates] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [sortConfig, setSortConfig] = useState({ key: null, direction: \"asc\" });\n  const [editCell, setEditCell] = useState({ row: null, key: null });\n  const [copiedCell, setCopiedCell] = useState({ row: null, col: null });\n  const [invygoList, setInvygoList] = useState([]);\n  const tableRef = useRef(null);\n\n  // ÿ™ÿ≠ŸÖŸäŸÑ ŸÇÿßÿ¶ŸÖÿ© invygo ŸÖŸÜ ÿ¥Ÿäÿ™ ÿÆÿßÿ±ÿ¨Ÿä\n  useEffect(() => {\n    const url = \"https://docs.google.com/spreadsheets/d/1lwmAsIem7ZfaV5E107J3Od6QZDvfC2WPf_r0hlY5Yeg/export?format=csv&gid=1785287232\";\n    fetch(url)\n      .then(res => res.text())\n      .then(text => {\n        const rows = text.split(\"\\n\").map(r => r.split(\",\"));\n        const headers = rows[0].map(h => h.trim().toLowerCase());\n        const vehicleIdx = headers.indexOf(\"vehicle\");\n        if (vehicleIdx === -1) return;\n        const list = rows.slice(1)\n          .map(r => (r[vehicleIdx] || \"\").trim().toLowerCase().replace(/\\s+/g, \"\"))\n          .filter(Boolean);\n        setInvygoList(list);\n      });\n  }, []);\n\n  useEffect(() => {\n    const fetchSheet = async () => {\n      setLoading(true);\n      const response = await fetch(\"https://docs.google.com/spreadsheets/d/1v4rQWn6dYPVQPd-PkhvrDNgKVnexilrR2XIUVa5RKEM/export?format=csv&gid=0\");\n      const text = await response.text();\n      const rows = text\n        .split(\"\\n\")\n        .map(r => r.split(\",\"))\n        .filter(r => r.some(cell => cell.trim() !== \"\")); // Ignore empty rows\n      const headers = rows[0];\n      const parsed = rows.slice(1).map(r => Object.fromEntries(r.map((v, i) => [headers[i], v])));\n      setData(parsed);\n      setModifiedData(parsed);\n      setLoading(false);\n    };\n    fetchSheet();\n  }, []);\n\n  useEffect(() => {\n    const counts = {};\n    modifiedData.forEach(row => {\n      const plate = row[\"Vehicle\"]?.trim().toLowerCase().replace(/\\s+/g, \"\");\n      if (plate) counts[plate] = (counts[plate] || 0) + 1;\n    });\n    setDuplicatePlates(Object.fromEntries(Object.entries(counts).filter(([_, c]) => c > 1)));\n  }, [modifiedData]);\n\n  const today = new Date();\n\n  const parseDate = (str) => {\n    if (!str || typeof str !== \"string\") return new Date(\"Invalid\");\n    const formats = [\"dd/MM/yyyy\", \"d-M-yyyy\", \"dd-MM-yyyy\", \"yyyy-MM-dd\"];\n    for (const format of formats) {\n      const parsed = parse(str, format, new Date());\n      if (!isNaN(parsed)) return parsed;\n    }\n    const fallback = new Date(str);\n    return isNaN(fallback) ? new Date(\"Invalid\") : fallback;\n  };\n\n  const getDelayedCars = (rows) => {\n    return rows.filter(row => {\n      const damageKey = Object.keys(row).find(k => k.toLowerCase().includes(\"damag\"));\n      const dateOutKey = Object.keys(row).find(k => k.toLowerCase().includes(\"date out\"));\n      const dateInKey = Object.keys(row).find(k => k.toLowerCase().includes(\"date in\"));\n\n      const damage = damageKey && row[damageKey]?.toLowerCase();\n      const dateOutStr = dateOutKey && row[dateOutKey]?.trim();\n      const dateIn = dateInKey && row[dateInKey]?.trim();\n\n      if (!dateOutStr || dateIn) return false;\n\n      const dateOut = parseDate(dateOutStr);\n      if (isNaN(dateOut)) return false;\n\n      const daysPassed = differenceInDays(today, dateOut);\n\n      if (damage?.includes(\"oil\") && daysPassed > 3) return true;\n      if (damage?.includes(\"accident\") && daysPassed > 30) return true;\n      if (!damage?.includes(\"oil\") && !damage?.includes(\"accident\") && daysPassed > 3) return true;\n\n      return false;\n    });\n  };\n\n  const delayedCars = getDelayedCars(modifiedData);\n\n  // ÿØŸÖÿ¨ ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑŸÅŸÑÿ™ÿ±ÿ© ŸÖÿπ ÿßŸÑÿ®ÿ≠ÿ´\n  const filtered = modifiedData.filter(row => {\n    const matchesSearch = search.trim() === \"\" || Object.values(row).some(v => v.toLowerCase().includes(search.toLowerCase()));\n    const dateInKey = Object.keys(row).find(k => k.toLowerCase().includes(\"date in\"));\n    const damageKey = Object.keys(row).find(k => k.toLowerCase().includes(\"damag\"));\n    const damageText = damageKey && row[damageKey]?.toLowerCase();\n    const hasDate = dateInKey && row[dateInKey]?.trim() !== \"\";\n    const plate = row[\"Vehicle\"]?.trim().toLowerCase().replace(/\\s+/g, \"\");\n\n    if (filterMode === \"accident\") return matchesSearch && damageText?.includes(\"accident\") && !hasDate;\n    if (filterMode === \"invygo\") return matchesSearch && plate && invygoList.includes(plate) && !hasDate;\n    if (filterMode === \"notready\") return matchesSearch && !hasDate;\n    if (filterMode === \"duplicates\") {\n      // Ÿäÿ∏Ÿáÿ± ŸÉŸÑ ÿµŸÅ ŸÖŸÉÿ±ÿ± ŸÑÿß ŸäŸàÿ¨ÿØ ŸÑŸá ÿ™ÿßÿ±ŸäÿÆ ÿØÿÆŸàŸÑ\n      return matchesSearch && plate && duplicatePlates[plate] && !hasDate;\n    }\n    if (filterMode === \"delayed\") return matchesSearch && delayedCars.includes(row);\n    return matchesSearch;\n  });\n\n  // Sorting logic\n  const sortedData = (() => {\n    // ÿ•ÿ∞ÿß ŸÑŸÖ Ÿäÿ™ŸÖ ÿßÿÆÿ™Ÿäÿßÿ± ŸÅÿ±ÿ≤ ÿ£Ÿà ÿ™ŸÖ ÿßŸÑÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿπŸÖŸàÿØ ÿßŸÑÿ™ÿ±ŸÇŸäŸÖ (#) Ÿäÿ™ŸÖ ÿπÿ±ÿ∂ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÉŸÖÿß ŸáŸä ÿ®ÿπÿØ ÿßŸÑŸÅŸÑÿ™ÿ±ÿ©\n    if (!sortConfig.key || sortConfig.key === \"__index__\") return filtered;\n    return [...filtered].sort((a, b) => {\n      const aVal = a[sortConfig.key] || \"\";\n      const bVal = b[sortConfig.key] || \"\";\n      if (aVal < bVal) return sortConfig.direction === \"asc\" ? -1 : 1;\n      if (aVal > bVal) return sortConfig.direction === \"asc\" ? 1 : -1;\n      return 0;\n    });\n  })();\n\n  const handleSort = (key) => {\n    // If click on # column, reset sort\n    if (key === \"__index__\") {\n      setSortConfig({ key: null, direction: \"asc\" });\n      return;\n    }\n    setSortConfig((prev) => {\n      if (prev.key === key) {\n        return { key, direction: prev.direction === \"asc\" ? \"desc\" : \"asc\" };\n      }\n      return { key, direction: \"asc\" };\n    });\n  };\n\n  // Inline editing\n  const handleCellDoubleClick = (rowIdx, key) => {\n    setEditCell({ row: rowIdx, key });\n  };\n\n  const handleCellChange = (e, rowIdx, key) => {\n    const value = e.target.value;\n    setModifiedData((prev) => {\n      const updated = [...prev];\n      updated[rowIdx] = { ...updated[rowIdx], [key]: value };\n      return updated;\n    });\n  };\n\n  const handleCellBlur = () => setEditCell({ row: null, key: null });\n\n  const handleCellKeyDown = (e) => {\n    if (e.key === \"Enter\" || e.key === \"Escape\") handleCellBlur();\n  };\n\n  // Copy cell content on click (except index column)\n  const handleCellClick = (rowIdx, colKey, value) => {\n    if (colKey === \"__index__\") return;\n    navigator.clipboard.writeText(value);\n    setCopiedCell({ row: rowIdx, col: colKey });\n    setTimeout(() => setCopiedCell({ row: null, col: null }), 900);\n  };\n\n  const getRowStyle = (row) => {\n    const dateInKey = Object.keys(row).find(k => k.toLowerCase().includes(\"date in\"));\n    const damageKey = Object.keys(row).find(k => k.toLowerCase().includes(\"damag\"));\n    const dateIn = dateInKey && row[dateInKey]?.trim();\n    const damageText = damageKey && row[damageKey]?.toLowerCase();\n    const plate = row[\"Vehicle\"]?.trim().toLowerCase().replace(/\\s+/g, \"\");\n\n    const isInvygo = invygoList.includes(plate);\n    const isAccident = damageText?.includes(\"accident\") && !dateIn;\n    const isReady = Boolean(dateIn);\n\n    if (plate && duplicatePlates[plate]) return { backgroundColor: \"#e53935\", color: \"#fff\" };\n    if (delayedCars.includes(row)) return { backgroundColor: \"#ff7043\", color: \"#fff\" };\n    if (isInvygo && isReady) return { backgroundColor: \"#81c784\" };\n    if (isInvygo && !isReady) return { backgroundColor: \"#64b5f6\" };\n    if (!isInvygo && isReady) return { backgroundColor: \"#ce93d8\" };\n    if (!isInvygo && !isReady) return { backgroundColor: \"#ffd600\" };\n    if (isAccident) return { backgroundColor: \"#ef9a9a\" };\n    return {};\n  };\n\n  const exportToExcel = () => {\n    const ws = XLSX.utils.json_to_sheet(sortedData);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, \"Maintenance\");\n    XLSX.writeFile(wb, `Maintenance_${new Date().toISOString().slice(0, 10)}.xlsx`);\n  };\n\n  return (\n    <div style={{ padding: 20, fontFamily: \"Segoe UI\", position: \"relative\", background: \"#fffde7\" }}>\n      {/* Legend at the top */}\n      <div style={{ display: \"flex\", justifyContent: \"center\", gap: 20, flexWrap: \"wrap\", marginBottom: 24 }}>\n        <div style={{ background: \"#81c784\", padding: \"4px 8px\", borderRadius: 6, color: \"#000\" }}>‚¨§ Invygo - Repaired</div>\n        <div style={{ background: \"#64b5f6\", padding: \"4px 8px\", borderRadius: 6, color: \"#000\" }}>‚¨§ Invygo - Not Ready</div>\n        <div style={{ background: \"#ce93d8\", padding: \"4px 8px\", borderRadius: 6, color: \"#000\" }}>‚¨§ Yelo - Repaired</div>\n        <div style={{ background: \"#ef9a9a\", padding: \"4px 8px\", borderRadius: 6, color: \"#000\" }}>‚¨§ Accident - Not Ready</div>\n        <div style={{ background: \"#ffd600\", padding: \"4px 8px\", borderRadius: 6, color: \"#000\" }}>‚¨§ Yelo - Not Ready</div>\n        <div style={{ background: \"#ff7043\", padding: \"4px 8px\", borderRadius: 6, color: \"#fff\" }}>‚¨§ ‚è± Delayed</div>\n      </div>\n\n      <a\n        href=\"https://moalamir52.github.io/Yelo/#dashboard\"\n        style={{\n          position: \"absolute\",\n          top: 80,\n          left: 200,\n          backgroundColor: \"#ffd600\",\n          color: \"#6a1b9a\",\n          padding: \"10px 20px\",\n          textDecoration: \"none\",\n          fontWeight: \"bold\",\n          borderRadius: \"8px\",\n          border: \"2px solid #6a1b9a\",\n          boxShadow: \"0 4px 16px 0 #6a1b9a55\"\n        }}\n      >\n        üîô Back to YELO\n      </a>\n\n      <h2\n        style={{\n          textAlign: \"center\",\n          color: \"#6a1b9a\",\n          background: \"#ffd600\",\n          borderRadius: 12,\n          fontWeight: \"bold\",\n          fontSize: 32,\n          letterSpacing: 1,\n          margin: \"20px auto 18px auto\",\n          padding: \"16px 0\",\n          boxShadow: \"0 8px 32px 0 #6a1b9a99\",\n          maxWidth: 520,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          gap: 14\n        }}\n      >\n        <span style={{ fontSize: 36 }}>üöó</span>\n        Maintenance Sheet Editor\n      </h2>\n\n      {/* Filter Buttons */}\n      <div style={{ display: \"flex\", justifyContent: \"center\", flexWrap: \"wrap\", gap: 10, marginBottom: 10 }}>\n        {[\n          { key: \"accident\", label: \"üöó Car Accident\" },\n          { key: \"invygo\", label: \"üì¶ Invygo Cars\" },\n          { key: \"notready\", label: \"‚ùå Not Ready\" },\n          { key: \"duplicates\", label: \"üõë Duplicates\" },\n          { key: \"delayed\", label: \"‚è± Show Delayed\" },\n          { key: \"all\", label: \"üîÑ Show All\" },\n        ].map(btn => (\n          <button\n            key={btn.key}\n            onClick={() => setFilterMode(btn.key)}\n            style={{\n              backgroundColor: filterMode === btn.key ? \"#6a1b9a\" : \"#ffd600\",\n              border: filterMode === btn.key ? \"2px solid #ffd600\" : \"1px solid #6a1b9a\",\n              color: filterMode === btn.key ? \"#fff\" : \"#4a148c\",\n              padding: \"8px 14px\",\n              borderRadius: \"8px\",\n              fontWeight: \"bold\",\n              cursor: \"pointer\",\n              fontSize: \"13px\",\n              transition: \"0.2s\",\n              boxShadow: \"0 8px 32px 0 #6a1b9a99\"\n            }}\n          >\n            {btn.label}\n          </button>\n        ))}\n      </div>\n\n      {/* Search Box - directly above the table */}\n      <div style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginBottom: 18,\n      }}>\n        <div style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          background: \"#fff\",\n          borderRadius: \"16px\",\n          boxShadow: \"0 4px 16px #6a1b9a55\",\n          padding: \"8px 18px\",\n          minWidth: 320,\n          border: \"2px solid #ffd600\"\n        }}>\n          <span style={{ fontSize: 22, color: \"#6a1b9a\", marginRight: 8 }}>üîç</span>\n          <input\n            type=\"text\"\n            placeholder=\"Search...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            style={{\n              border: \"none\",\n              outline: \"none\",\n              background: \"transparent\",\n              fontSize: \"1.1em\",\n              flex: 1,\n              padding: \"8px\",\n              fontFamily: \"inherit\",\n              color: \"#6a1b9a\"\n            }}\n          />\n        </div>\n      </div>\n\n      {/* Export Button */}\n      <div style={{ display: \"flex\", justifyContent: \"center\", marginBottom: 20 }}>\n        <button\n          onClick={exportToExcel}\n          style={{\n            background: \"#6a1b9a\",\n            color: \"#fff\",\n            padding: \"8px 18px\",\n            borderRadius: \"8px\",\n            border: \"none\",\n            fontWeight: \"bold\",\n            fontSize: \"15px\",\n            cursor: \"pointer\",\n            boxShadow: \"0 4px 16px 0 #6a1b9a99\"\n          }}\n        >\n          üì• Export to Excel\n        </button>\n      </div>\n\n      {loading ? (\n        <div style={{ textAlign: \"center\", margin: \"40px 0\", fontSize: 22, color: \"#6a1b9a\" }}>\n          ‚è≥ Loading data...\n        </div>\n      ) : (\n        <>\n          <div style={{ textAlign: \"center\", marginBottom: 10, color: \"#555\" }}>‚úÖ Showing {sortedData.length} result(s)</div>\n          {delayedCars.length > 0 && (\n            <div style={{ textAlign: \"center\", marginBottom: 10, color: \"red\", fontWeight: \"bold\" }}>\n              üö® There are {delayedCars.length} cars delayed beyond the allowed time in the workshop!\n            </div>\n          )}\n\n          <div\n            ref={tableRef}\n            style={{\n              overflow: \"auto\", // ÿ£Ÿà overflowY: \"auto\"\n              maxHeight: \"70vh\",\n              borderRadius: 12,\n              boxShadow: \"0 4px 32px 0 #6a1b9a66\",\n              background: \"#fff\",\n              marginBottom: 30,\n              position: \"relative\"\n            }}\n          >\n            <table\n              style={{\n                borderCollapse: \"collapse\",\n                width: \"100%\",\n                border: \"2px solid #000\",\n                borderRadius: 12\n                // ÿßÿ≠ÿ∞ŸÅ overflow ŸÖŸÜ ŸáŸÜÿß\n              }}\n            >\n              <thead\n                style={{\n                  position: \"sticky\",\n                  top: 0,\n                  zIndex: 10,\n                  background: \"#ffd600\"\n                }}\n              >\n                <tr>\n                  <th\n                    style={{\n                      border: \"1px solid #000\",\n                      padding: 8,\n                      cursor: \"pointer\",\n                      userSelect: \"none\",\n                      background: \"#ffd600\",\n                      textAlign: \"center\" // ÿ£ÿ∂ŸÅ Ÿáÿ∞ÿß\n                    }}\n                    onClick={() => handleSort(\"__index__\")}\n                  >\n                    #\n                  </th>\n                  {Object.keys(modifiedData[0] || {}).map((key) => (\n                    <th\n                      key={key}\n                      style={{\n                        border: \"1px solid #000\",\n                        padding: 8,\n                        cursor: \"pointer\",\n                        userSelect: \"none\",\n                        background: \"#ffd600\",\n                        textAlign: \"center\" // ÿ£ÿ∂ŸÅ Ÿáÿ∞ÿß\n                      }}\n                      onClick={() => handleSort(key)}\n                    >\n                      {key}\n                      {sortConfig.key === key ? (sortConfig.direction === \"asc\" ? \" ‚ñ≤\" : \" ‚ñº\") : \"\"}\n                    </th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody>\n                {sortedData.map((row, rowIndex) => (\n                  <tr\n                    key={rowIndex}\n                    style={{\n                      ...getRowStyle(row),\n                      backgroundColor: selectedRowIndex === rowIndex ? \"#c5cae9\" : getRowStyle(row).backgroundColor\n                    }}\n                  >\n                    <td\n                      style={{\n                        border: \"1px solid #000\",\n                        padding: 6,\n                        textAlign: \"center\", // ÿ£ÿ∂ŸÅ Ÿáÿ∞ÿß\n                        cursor: \"pointer\",\n                        background: \"#fffde7\"\n                      }}\n                      onClick={() => setSortConfig({ key: null, direction: \"asc\" })}\n                    >\n                      {rowIndex + 1}\n                    </td>\n                    {Object.entries(row).map(([key, value], colIndex) => (\n                      <td\n                        key={colIndex}\n                        style={{\n                          border: \"1px solid #000\",\n                          padding: 6,\n                          cursor: \"pointer\",\n                          position: \"relative\",\n                          textAlign: \"center\" // ÿ£ÿ∂ŸÅ Ÿáÿ∞ÿß\n                        }}\n                        onClick={() => handleCellClick(rowIndex, key, value)}\n                        onDoubleClick={() => handleCellDoubleClick(rowIndex, key)}\n                      >\n                        {editCell.row === rowIndex && editCell.key === key ? (\n                          <input\n                            value={value}\n                            autoFocus\n                            onChange={e => handleCellChange(e, rowIndex, key)}\n                            onBlur={handleCellBlur}\n                            onKeyDown={handleCellKeyDown}\n                            style={{\n                              width: \"100%\",\n                              border: \"1.5px solid #ffd600\",\n                              background: \"#fffde7\",\n                              color: \"#000\",\n                              borderRadius: 4,\n                              padding: \"2px 4px\",\n                              textAlign: \"center\" // ÿ£ÿ∂ŸÅ Ÿáÿ∞ÿß\n                            }}\n                          />\n                        ) : (\n                          <>\n                            <input\n                              value={value}\n                              readOnly\n                              style={{\n                                width: \"100%\",\n                                border: \"none\",\n                                background: \"transparent\",\n                                pointerEvents: \"none\",\n                                color: \"#000\",\n                                textAlign: \"center\" // ÿ£ÿ∂ŸÅ Ÿáÿ∞ÿß\n                              }}\n                            />\n                            {copiedCell.row === rowIndex && copiedCell.col === key && (\n                              <span\n                                style={{\n                                  position: \"absolute\",\n                                  top: 2,\n                                  right: 8,\n                                  background: \"#ffd600\",\n                                  color: \"#6a1b9a\",\n                                  fontWeight: \"bold\",\n                                  fontSize: 12,\n                                  borderRadius: 4,\n                                  padding: \"1px 6px\",\n                                  boxShadow: \"0 2px 8px #ffd60055\",\n                                  zIndex: 2\n                                }}\n                              >\n                                Copied!\n                              </span>\n                            )}\n                          </>\n                        )}\n                      </td>\n                    ))}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}