{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\maintenance\\\\maintenance\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\n// MaintenanceEditor with robust date parsing\n\nimport { useState, useEffect, useRef } from \"react\";\nimport * as XLSX from \"xlsx\";\nimport { differenceInDays, parse } from \"date-fns\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MaintenanceEditor() {\n  _s();\n  const [data, setData] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [modifiedData, setModifiedData] = useState([]);\n  const [editCell, setEditCell] = useState(null);\n  const [selectedRowIndex, setSelectedRowIndex] = useState(null);\n  const [filterMode, setFilterMode] = useState(\"all\");\n  const [duplicatePlates, setDuplicatePlates] = useState({});\n  const tableRef = useRef(null);\n  const selectColumn = colIndex => {\n    var _tableRef$current;\n    const cells = (_tableRef$current = tableRef.current) === null || _tableRef$current === void 0 ? void 0 : _tableRef$current.querySelectorAll(`td[data-col='${colIndex}'] div`);\n    if (cells !== null && cells !== void 0 && cells.length) {\n      const range = document.createRange();\n      const selection = window.getSelection();\n      range.selectNodeContents(cells[0]);\n      range.setStart(cells[0], 0);\n      range.setEnd(cells[cells.length - 1], 1);\n      selection.removeAllRanges();\n      selection.addRange(range);\n    }\n  };\n  const invygoList = [\"f62443\", \"e62059\", \"e48708\", \"g16281\", \"f67224\", \"f60973\", \"y87421\", \"g20385\", \"f10750\", \"e59684\", \"t64026\", \"r69915\", \"t28875\", \"t88742\", \"r72392\", \"t61471\", \"t61074\", \"s32761\", \"s30916\", \"s34737\", \"s37248\", \"s32248\", \"s34138\", \"s33098\", \"s33573\", \"t63147\", \"s35076\", \"t93536\", \"t93285\", \"t82563\", \"t58645\", \"t61724\", \"t61377\", \"t61450\", \"t66489\", \"s37005\", \"s37285\", \"r85860\", \"r73445\", \"r76490\", \"r80128\", \"r80155\", \"r86003\", \"r75420\", \"r75429\", \"r84563\", \"r88409\", \"r76317\", \"r86080\", \"r85882\", \"r85160\", \"aa15916\", \"aa15002\", \"aa15920\", \"aa15021\", \"aa14992\", \"aa14995\", \"aa15006\", \"aa15007\", \"aa15923\", \"aa14997\", \"aa15009\", \"aa15003\", \"j66201\", \"aa15004\", \"aa15008\", \"r37029\", \"r36675\", \"q96589\", \"r53826\", \"r51619\", \"aa15918\", \"r52488\", \"r17061\", \"s72129\", \"r44830\", \"r22603\", \"r28968\", \"j68247\", \"j94519\", \"j81598\", \"j96121\", \"r36929\", \"j42625\", \"r13492\", \"r36174\", \"s71922\", \"s75328\", \"r22937\", \"s64835\", \"s64833\", \"j60185\", \"j79165\", \"s61759\", \"s74924\", \"s74354\", \"s70425\", \"s62860\", \"s70848\", \"j58197\", \"j76574\", \"z48928\", \"z47957\", \"aa30014\", \"z50329\", \"z49625\", \"z50325\", \"z49507\", \"r34461\", \"t55210\", \"r17048\", \"r16713\", \"t58751\", \"t56712\", \"t53810\", \"r15013\", \"z48285\", \"r18683\", \"z48102\", \"r26125\", \"t70588\", \"z47981\", \"r20497\", \"r35976\", \"r36097\", \"r29460\", \"r20253\", \"r35345\", \"t58875\", \"r30376\", \"z49428\", \"r29024\", \"aa80047\", \"t54238\", \"aa80031\", \"aa29985\", \"aa80056\", \"aa80049\", \"aa29987\", \"aa80057\", \"aa29982\", \"aa80051\", \"aa29983\", \"aa80052\", \"aa29984\", \"aa80053\", \"aa29986\", \"aa80054\", \"aa29980\", \"cc12935\", \"cc12238\", \"cc12936\", \"cc12934\", \"cc12231\", \"cc12939\", \"cc12237\", \"cc12236\", \"cc12235\", \"cc12209\", \"cc12937\", \"cc12207\", \"cc12206\", \"cc12942\", \"cc12205\", \"cc12204\", \"cc12938\", \"cc12203\", \"cc12940\", \"cc12208\", \"f18326\", \"f18323\", \"f17754\", \"f17732\", \"f17975\", \"bb43302\", \"f18583\", \"bb43307\", \"f18210\", \"bb43306\", \"bb43305\", \"bb43304\", \"cc13053\", \"cc10450\", \"cc10449\", \"f19054\", \"f18626\", \"f19131\", \"b18431\", \"f19176\", \"f17724\", \"f18257\", \"f18136\", \"f17514\", \"f18086\", \"f18433\", \"f18320\", \"cc13071\", \"f17315\", \"cc32520\", \"cc32492\", \"cc32526\", \"cc31030\", \"cc32547\", \"cc32511\", \"cc32524\", \"cc31043\", \"cc32540\", \"cc32491\", \"cc31042\", \"cc31046\", \"cc32558\", \"cc32554\", \"cc32501\", \"cc32553\", \"cc31041\", \"cc32538\", \"cc31038\", \"cc32493\", \"cc32510\", \"cc32557\", \"cc32563\", \"cc31040\", \"cc32499\", \"cc32507\", \"cc31044\", \"cc32537\", \"cc32494\", \"cc32488\", \"cc32550\", \"cc31047\", \"cc32514\", \"cc32515\", \"cc32546\", \"cc32562\", \"cc32495\", \"cc32509\", \"cc32556\", \"cc32517\", \"cc32504\", \"cc32521\", \"cc32549\", \"cc32496\", \"cc32560\", \"cc32561\", \"cc32527\", \"cc31036\", \"cc32535\", \"cc32544\", \"q91064\", \"r34842\", \"r38697\", \"r36953\", \"r56260\", \"r63441\", \"r54090\", \"r25270\", \"r67604\", \"q96758\", \"r68227\", \"r56625\", \"r72343\", \"q90946\", \"r70974\", \"q91745\", \"r63418\", \"r35417\", \"r58495\", \"r67572\", \"r67740\", \"r56549\", \"r63684\", \"r67519\", \"r67408\", \"r43921\", \"q95245\", \"r34781\", \"r71806\", \"r69331\", \"r68107\", \"r65528\", \"r67795\", \"q96673\", \"r68609\", \"r72030\", \"r69558\", \"r43518\", \"r68239\", \"q93985\", \"r42977\", \"r69392\", \"q96453\", \"r70466\", \"r68219\", \"r67749\", \"q95389\", \"r72154\", \"r56530\", \"r41033\"];\n  useEffect(() => {\n    const fetchSheet = async () => {\n      const response = await fetch(\"https://docs.google.com/spreadsheets/d/1v4rQWn6dYPVQPd-PkhvrDNgKVnexilrR2XIUVa5RKEM/export?format=csv&gid=0\");\n      const text = await response.text();\n      const rows = text.split(\"\\n\").map(r => r.split(\",\"));\n      const headers = rows[0];\n      const parsed = rows.slice(1).map(r => Object.fromEntries(r.map((v, i) => [headers[i], v])));\n      setData(parsed);\n      setModifiedData(parsed);\n    };\n    fetchSheet();\n  }, []);\n  useEffect(() => {\n    const counts = {};\n    modifiedData.forEach(row => {\n      var _row$Vehicle;\n      const plate = (_row$Vehicle = row[\"Vehicle\"]) === null || _row$Vehicle === void 0 ? void 0 : _row$Vehicle.trim().toLowerCase().replace(/\\s+/g, \"\");\n      if (plate) counts[plate] = (counts[plate] || 0) + 1;\n    });\n    setDuplicatePlates(Object.fromEntries(Object.entries(counts).filter(([_, c]) => c > 1)));\n  }, [modifiedData]);\n  const today = new Date();\n  const parseDate = str => {\n    if (!str || typeof str !== \"string\") return new Date(\"Invalid\");\n    const formats = [\"dd/MM/yyyy\", \"d-M-yyyy\", \"dd-MM-yyyy\", \"yyyy-MM-dd\"];\n    for (const format of formats) {\n      const parsed = parse(str, format, new Date());\n      if (!isNaN(parsed)) return parsed;\n    }\n    const fallback = new Date(str);\n    return isNaN(fallback) ? new Date(\"Invalid\") : fallback;\n  };\n  const getDelayedCars = rows => {\n    return rows.filter(row => {\n      var _row$damageKey, _row$dateOutKey, _row$dateInKey;\n      const damageKey = Object.keys(row).find(k => k.toLowerCase().includes(\"damag\"));\n      const dateOutKey = Object.keys(row).find(k => k.toLowerCase().includes(\"date out\"));\n      const dateInKey = Object.keys(row).find(k => k.toLowerCase().includes(\"date in\"));\n      const damage = damageKey && ((_row$damageKey = row[damageKey]) === null || _row$damageKey === void 0 ? void 0 : _row$damageKey.toLowerCase());\n      const dateOutStr = dateOutKey && ((_row$dateOutKey = row[dateOutKey]) === null || _row$dateOutKey === void 0 ? void 0 : _row$dateOutKey.trim());\n      const dateIn = dateInKey && ((_row$dateInKey = row[dateInKey]) === null || _row$dateInKey === void 0 ? void 0 : _row$dateInKey.trim());\n      if (!dateOutStr || dateIn) return false;\n      const dateOut = parseDate(dateOutStr);\n      if (isNaN(dateOut)) return false;\n      const daysPassed = differenceInDays(today, dateOut);\n      if (damage !== null && damage !== void 0 && damage.includes(\"oil\") && daysPassed > 3) return true;\n      if (damage !== null && damage !== void 0 && damage.includes(\"accident\") && daysPassed > 30) return true;\n      if (!(damage !== null && damage !== void 0 && damage.includes(\"oil\")) && !(damage !== null && damage !== void 0 && damage.includes(\"accident\")) && daysPassed > 3) return true;\n      return false;\n    });\n  };\n  const delayedCars = getDelayedCars(modifiedData);\n  const filtered = modifiedData.filter(row => {\n    var _row$damageKey2, _row$dateInKey2, _row$Vehicle2;\n    const matchesSearch = Object.values(row).some(v => v.toLowerCase().includes(search.toLowerCase()));\n    const dateInKey = Object.keys(row).find(k => k.toLowerCase().includes(\"date in\"));\n    const damageKey = Object.keys(row).find(k => k.toLowerCase().includes(\"damag\"));\n    const damageText = damageKey && ((_row$damageKey2 = row[damageKey]) === null || _row$damageKey2 === void 0 ? void 0 : _row$damageKey2.toLowerCase());\n    const hasDate = dateInKey && ((_row$dateInKey2 = row[dateInKey]) === null || _row$dateInKey2 === void 0 ? void 0 : _row$dateInKey2.trim()) !== \"\";\n    const plate = (_row$Vehicle2 = row[\"Vehicle\"]) === null || _row$Vehicle2 === void 0 ? void 0 : _row$Vehicle2.trim().toLowerCase().replace(/\\s+/g, \"\");\n    if (filterMode === \"accident\") return matchesSearch && (damageText === null || damageText === void 0 ? void 0 : damageText.includes(\"accident\")) && !hasDate;\n    if (filterMode === \"invygo\") return matchesSearch && plate && invygoList.includes(plate) && !hasDate;\n    if (filterMode === \"ready\") return matchesSearch && hasDate;\n    if (filterMode === \"notready\") return matchesSearch && !hasDate;\n    if (filterMode === \"duplicates\") {\n      var _row$dateInKey3;\n      if (!plate || !duplicatePlates[plate]) return false;\n      const dateIn = dateInKey && ((_row$dateInKey3 = row[dateInKey]) === null || _row$dateInKey3 === void 0 ? void 0 : _row$dateInKey3.trim());\n      // تجاهل التكرار لو فيه تاريخ دخول\n      return !dateIn;\n    }\n    if (filterMode === \"delayed\") return delayedCars.includes(row);\n    return matchesSearch;\n  });\n  const getRowStyle = row => {\n    var _row$dateInKey4, _row$damageKey3, _row$Vehicle3;\n    const dateInKey = Object.keys(row).find(k => k.toLowerCase().includes(\"date in\"));\n    const damageKey = Object.keys(row).find(k => k.toLowerCase().includes(\"damag\"));\n    const dateIn = dateInKey && ((_row$dateInKey4 = row[dateInKey]) === null || _row$dateInKey4 === void 0 ? void 0 : _row$dateInKey4.trim());\n    const damageText = damageKey && ((_row$damageKey3 = row[damageKey]) === null || _row$damageKey3 === void 0 ? void 0 : _row$damageKey3.toLowerCase());\n    const plate = (_row$Vehicle3 = row[\"Vehicle\"]) === null || _row$Vehicle3 === void 0 ? void 0 : _row$Vehicle3.trim().toLowerCase().replace(/\\s+/g, \"\");\n    const isInvygo = invygoList.includes(plate);\n    const isAccident = (damageText === null || damageText === void 0 ? void 0 : damageText.includes(\"accident\")) && !dateIn;\n    const isReady = Boolean(dateIn);\n    if (plate && duplicatePlates[plate]) return {\n      backgroundColor: \"#e53935\",\n      color: \"#fff\"\n    };\n    if (delayedCars.includes(row)) return {\n      backgroundColor: \"#ff7043\",\n      color: \"#fff\"\n    };\n    if (isInvygo && isReady) return {\n      backgroundColor: \"#81c784\"\n    }; // Invygo Repaired - Green\n    if (isInvygo && !isReady) return {\n      backgroundColor: \"#64b5f6\"\n    }; // Invygo Not Ready - Blue\n    if (!isInvygo && isReady) return {\n      backgroundColor: \"#ce93d8\"\n    }; // Yelo Repaired - Light Purple\n    if (!isInvygo && !isReady) return {\n      backgroundColor: \"#ffd600\"\n    }; // Yelo Not Ready - Yellow\n    if (isAccident) return {\n      backgroundColor: \"#ef9a9a\"\n    };\n    return {};\n  };\n  const handleEdit = (rowIndex, key, value) => {\n    setModifiedData(prev => {\n      const updated = [...prev];\n      updated[rowIndex] = {\n        ...updated[rowIndex],\n        [key]: value\n      };\n      return updated;\n    });\n  };\n  const handleKeyDown = (e, rowIndex, colIndex) => {\n    const rowCount = filtered.length;\n    const colCount = Object.keys(filtered[0] || {}).length;\n    let nextRow = rowIndex;\n    let nextCol = colIndex;\n    if (e.key === \"ArrowRight\" && colIndex < colCount - 1) nextCol++;\n    if (e.key === \"ArrowLeft\" && colIndex > 0) nextCol--;\n    if (e.key === \"ArrowUp\" && rowIndex > 0) nextRow--;\n    if (e.key === \"ArrowDown\" && rowIndex < rowCount - 1) nextRow++;\n    if ([\"ArrowRight\", \"ArrowLeft\", \"ArrowUp\", \"ArrowDown\"].includes(e.key)) {\n      var _tableRef$current2;\n      e.preventDefault();\n      const next = (_tableRef$current2 = tableRef.current) === null || _tableRef$current2 === void 0 ? void 0 : _tableRef$current2.querySelector(`input[data-row='${nextRow}'][data-col='${nextCol}']`);\n      if (next) next.focus();\n    }\n    if (e.key === \"Enter\") e.target.blur();\n  };\n  const exportToExcel = () => {\n    const ws = XLSX.utils.json_to_sheet(filtered);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, \"Maintenance\");\n    XLSX.writeFile(wb, `Maintenance_${new Date().toISOString().slice(0, 10)}.xlsx`);\n  };\n  function btnStyle(color) {\n    return {\n      background: color,\n      color: \"white\",\n      padding: \"6px 10px\",\n      fontSize: \"13px\",\n      borderRadius: 8,\n      border: \"none\",\n      fontWeight: \"bold\"\n    };\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20,\n      fontFamily: \"Segoe UI\",\n      position: \"relative\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"https://moalamir52.github.io/Yelo/#dashboard\",\n      style: {\n        position: \"absolute\",\n        top: 100,\n        left: 150,\n        backgroundColor: \"#ffd600\",\n        color: \"#6a1b9a\",\n        padding: \"10px 20px\",\n        textDecoration: \"none\",\n        fontWeight: \"bold\",\n        borderRadius: \"8px\",\n        border: \"2px solid #6a1b9a\"\n      },\n      children: \"\\uD83D\\uDD19 Back to YELO\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 20,\n        fontFamily: \"Segoe UI\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          gap: 20,\n          flexWrap: \"wrap\",\n          marginBottom: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: \"#81c784\",\n            padding: \"4px 8px\",\n            borderRadius: 6,\n            color: \"#000\"\n          },\n          children: \"\\u2B24 Invygo - Repaired\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: \"#64b5f6\",\n            padding: \"4px 8px\",\n            borderRadius: 6,\n            color: \"#000\"\n          },\n          children: \"\\u2B24 Invygo - Not Ready\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: \"#ce93d8\",\n            padding: \"4px 8px\",\n            borderRadius: 6,\n            color: \"#000\"\n          },\n          children: \"\\u2B24 Yelo - Repaired\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: \"#ef9a9a\",\n            padding: \"4px 8px\",\n            borderRadius: 6,\n            color: \"#000\"\n          },\n          children: \"\\u2B24 Accident - Not Ready\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: \"#ffd600\",\n            padding: \"4px 8px\",\n            borderRadius: 6,\n            color: \"#000\"\n          },\n          children: \"\\u2B24 Yelo - Not Ready\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: \"#ff7043\",\n            padding: \"4px 8px\",\n            borderRadius: 6,\n            color: \"#fff\"\n          },\n          children: \"\\u2B24 \\u23F1 Delayed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: \"center\",\n          color: \"#6a1b9a\"\n        },\n        children: \"\\uD83D\\uDEE0 Maintenance Sheet Editor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          flexWrap: \"wrap\",\n          gap: 10,\n          marginBottom: 10\n        },\n        children: [{\n          key: \"accident\",\n          label: \"🚗 Car Accident\"\n        }, {\n          key: \"invygo\",\n          label: \"📦 Invygo Cars\"\n        }, {\n          key: \"notready\",\n          label: \"❌ Not Ready\"\n        }, {\n          key: \"duplicates\",\n          label: \"🛑 Duplicates\"\n        }, {\n          key: \"delayed\",\n          label: \"⏱ Show Delayed\"\n        }, {\n          key: \"all\",\n          label: \"🔄 Show All\"\n        }].map(btn => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilterMode(btn.key),\n          style: {\n            backgroundColor: filterMode === btn.key ? \"#ce93d8\" : \"#ffd600\",\n            border: filterMode === btn.key ? \"2px solid #6a1b9a\" : \"1px solid #ccc\",\n            color: \"#4a148c\",\n            padding: \"8px 14px\",\n            borderRadius: \"8px\",\n            fontWeight: \"bold\",\n            cursor: \"pointer\",\n            fontSize: \"13px\",\n            transition: \"0.2s\"\n          },\n          children: btn.label\n        }, btn.key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 5\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: 10,\n        color: \"#555\"\n      },\n      children: [\"\\u2705 Showing \", filtered.length, \" result(s)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), delayedCars.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: 10,\n        color: \"red\",\n        fontWeight: \"bold\"\n      },\n      children: [\"\\uD83D\\uDEA8 There are \", delayedCars.length, \" cars delayed beyond the allowed time in the workshop!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: tableRef,\n      style: {\n        overflowX: \"auto\",\n        maxHeight: \"70vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          borderCollapse: \"collapse\",\n          width: \"100%\",\n          border: \"2px solid #000\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          style: {\n            position: \"sticky\",\n            top: 0,\n            background: \"#ffc547\",\n            color: \"#6a1b9a\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                border: \"1px solid #000\",\n                padding: 8\n              },\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this), Object.keys(modifiedData[0] || {}).map((key, colIndex) => /*#__PURE__*/_jsxDEV(\"th\", {\n              onClick: () => selectColumn(colIndex),\n              style: {\n                border: \"1px solid #000\",\n                padding: 8,\n                cursor: \"pointer\",\n                backgroundColor: \"#f3e5f5\"\n              },\n              children: key\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 3\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: filtered.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              ...getRowStyle(row),\n              backgroundColor: selectedRowIndex === rowIndex ? \"#c5cae9\" : getRowStyle(row).backgroundColor\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                border: \"1px solid #000\",\n                padding: 6,\n                textAlign: \"center\"\n              },\n              onClick: () => setSelectedRowIndex(rowIndex),\n              children: rowIndex + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this), Object.entries(row).map(([key, value], colIndex) => /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                border: \"1px solid #000\",\n                padding: 6\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                value: value,\n                readOnly: true,\n                style: {\n                  width: \"100%\",\n                  border: \"none\",\n                  background: \"transparent\",\n                  pointerEvents: \"none\",\n                  color: \"#000\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 21\n              }, this)\n            }, colIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 19\n            }, this))]\n          }, rowIndex, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this);\n}\n_s(MaintenanceEditor, \"ajYwFpYDNvWPkD6TjM1zVJJPciY=\");\n_c = MaintenanceEditor;\nvar _c;\n$RefreshReg$(_c, \"MaintenanceEditor\");","map":{"version":3,"names":["useState","useEffect","useRef","XLSX","differenceInDays","parse","jsxDEV","_jsxDEV","MaintenanceEditor","_s","data","setData","search","setSearch","modifiedData","setModifiedData","editCell","setEditCell","selectedRowIndex","setSelectedRowIndex","filterMode","setFilterMode","duplicatePlates","setDuplicatePlates","tableRef","selectColumn","colIndex","_tableRef$current","cells","current","querySelectorAll","length","range","document","createRange","selection","window","getSelection","selectNodeContents","setStart","setEnd","removeAllRanges","addRange","invygoList","fetchSheet","response","fetch","text","rows","split","map","r","headers","parsed","slice","Object","fromEntries","v","i","counts","forEach","row","_row$Vehicle","plate","trim","toLowerCase","replace","entries","filter","_","c","today","Date","parseDate","str","formats","format","isNaN","fallback","getDelayedCars","_row$damageKey","_row$dateOutKey","_row$dateInKey","damageKey","keys","find","k","includes","dateOutKey","dateInKey","damage","dateOutStr","dateIn","dateOut","daysPassed","delayedCars","filtered","_row$damageKey2","_row$dateInKey2","_row$Vehicle2","matchesSearch","values","some","damageText","hasDate","_row$dateInKey3","getRowStyle","_row$dateInKey4","_row$damageKey3","_row$Vehicle3","isInvygo","isAccident","isReady","Boolean","backgroundColor","color","handleEdit","rowIndex","key","value","prev","updated","handleKeyDown","e","rowCount","colCount","nextRow","nextCol","_tableRef$current2","preventDefault","next","querySelector","focus","target","blur","exportToExcel","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","toISOString","btnStyle","background","padding","fontSize","borderRadius","border","fontWeight","style","fontFamily","position","children","href","top","left","textDecoration","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","gap","flexWrap","marginBottom","textAlign","label","btn","onClick","cursor","transition","ref","overflowX","maxHeight","borderCollapse","width","readOnly","pointerEvents","_c","$RefreshReg$"],"sources":["C:/project/maintenance/maintenance/src/App.jsx"],"sourcesContent":["// MaintenanceEditor with robust date parsing\n\nimport { useState, useEffect, useRef } from \"react\";\nimport * as XLSX from \"xlsx\";\nimport { differenceInDays, parse } from \"date-fns\";\n\nexport default function MaintenanceEditor() {\n  \n  const [data, setData] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [modifiedData, setModifiedData] = useState([]);\n  const [editCell, setEditCell] = useState(null);\n  const [selectedRowIndex, setSelectedRowIndex] = useState(null);\n  const [filterMode, setFilterMode] = useState(\"all\");\n  const [duplicatePlates, setDuplicatePlates] = useState({});\n  const tableRef = useRef(null);\nconst selectColumn = (colIndex) => {\n  const cells = tableRef.current?.querySelectorAll(`td[data-col='${colIndex}'] div`);\n  if (cells?.length) {\n    const range = document.createRange();\n    const selection = window.getSelection();\n    range.selectNodeContents(cells[0]);\n    range.setStart(cells[0], 0);\n    range.setEnd(cells[cells.length - 1], 1);\n    selection.removeAllRanges();\n    selection.addRange(range);\n  }\n};\n\n  const invygoList = [\n    \"f62443\", \"e62059\", \"e48708\", \"g16281\", \"f67224\", \"f60973\", \"y87421\", \"g20385\", \"f10750\", \"e59684\",\n    \"t64026\", \"r69915\", \"t28875\", \"t88742\", \"r72392\", \"t61471\", \"t61074\", \"s32761\", \"s30916\", \"s34737\", \"s37248\",\n    \"s32248\", \"s34138\", \"s33098\", \"s33573\", \"t63147\", \"s35076\", \"t93536\", \"t93285\", \"t82563\", \"t58645\", \"t61724\",\n    \"t61377\", \"t61450\", \"t66489\", \"s37005\", \"s37285\", \"r85860\", \"r73445\", \"r76490\", \"r80128\", \"r80155\", \"r86003\",\n    \"r75420\", \"r75429\", \"r84563\", \"r88409\", \"r76317\", \"r86080\", \"r85882\", \"r85160\", \"aa15916\", \"aa15002\", \"aa15920\",\n    \"aa15021\", \"aa14992\", \"aa14995\", \"aa15006\", \"aa15007\", \"aa15923\", \"aa14997\", \"aa15009\", \"aa15003\", \"j66201\",\n    \"aa15004\", \"aa15008\", \"r37029\", \"r36675\", \"q96589\", \"r53826\", \"r51619\", \"aa15918\", \"r52488\", \"r17061\", \"s72129\",\n    \"r44830\", \"r22603\", \"r28968\", \"j68247\", \"j94519\", \"j81598\", \"j96121\", \"r36929\", \"j42625\", \"r13492\", \"r36174\",\n    \"s71922\", \"s75328\", \"r22937\", \"s64835\", \"s64833\", \"j60185\", \"j79165\", \"s61759\", \"s74924\", \"s74354\", \"s70425\",\n    \"s62860\", \"s70848\", \"j58197\", \"j76574\", \"z48928\", \"z47957\", \"aa30014\", \"z50329\", \"z49625\", \"z50325\", \"z49507\",\n    \"r34461\", \"t55210\", \"r17048\", \"r16713\", \"t58751\", \"t56712\", \"t53810\", \"r15013\", \"z48285\", \"r18683\", \"z48102\",\n    \"r26125\", \"t70588\", \"z47981\", \"r20497\", \"r35976\", \"r36097\", \"r29460\", \"r20253\", \"r35345\", \"t58875\", \"r30376\",\n    \"z49428\", \"r29024\", \"aa80047\", \"t54238\", \"aa80031\", \"aa29985\", \"aa80056\", \"aa80049\", \"aa29987\", \"aa80057\",\n    \"aa29982\", \"aa80051\", \"aa29983\", \"aa80052\", \"aa29984\", \"aa80053\", \"aa29986\", \"aa80054\", \"aa29980\", \"cc12935\",\n    \"cc12238\", \"cc12936\", \"cc12934\", \"cc12231\", \"cc12939\", \"cc12237\", \"cc12236\", \"cc12235\", \"cc12209\", \"cc12937\",\n    \"cc12207\", \"cc12206\", \"cc12942\", \"cc12205\", \"cc12204\", \"cc12938\", \"cc12203\", \"cc12940\", \"cc12208\", \"f18326\",\n    \"f18323\", \"f17754\", \"f17732\", \"f17975\", \"bb43302\", \"f18583\", \"bb43307\", \"f18210\", \"bb43306\", \"bb43305\",\n    \"bb43304\", \"cc13053\", \"cc10450\", \"cc10449\", \"f19054\", \"f18626\", \"f19131\", \"b18431\", \"f19176\", \"f17724\",\n    \"f18257\", \"f18136\", \"f17514\", \"f18086\", \"f18433\", \"f18320\", \"cc13071\", \"f17315\", \"cc32520\", \"cc32492\",\n    \"cc32526\", \"cc31030\", \"cc32547\", \"cc32511\", \"cc32524\", \"cc31043\", \"cc32540\", \"cc32491\", \"cc31042\", \"cc31046\",\n    \"cc32558\", \"cc32554\", \"cc32501\", \"cc32553\", \"cc31041\", \"cc32538\", \"cc31038\", \"cc32493\", \"cc32510\", \"cc32557\",\n    \"cc32563\", \"cc31040\", \"cc32499\", \"cc32507\", \"cc31044\", \"cc32537\", \"cc32494\", \"cc32488\", \"cc32550\", \"cc31047\",\n    \"cc32514\", \"cc32515\", \"cc32546\", \"cc32562\", \"cc32495\", \"cc32509\", \"cc32556\", \"cc32517\", \"cc32504\", \"cc32521\",\n    \"cc32549\", \"cc32496\", \"cc32560\", \"cc32561\", \"cc32527\", \"cc31036\", \"cc32535\", \"cc32544\", \"q91064\", \"r34842\",\n    \"r38697\", \"r36953\", \"r56260\", \"r63441\", \"r54090\", \"r25270\", \"r67604\", \"q96758\", \"r68227\", \"r56625\",\n    \"r72343\", \"q90946\", \"r70974\", \"q91745\", \"r63418\", \"r35417\", \"r58495\", \"r67572\", \"r67740\", \"r56549\",\n    \"r63684\", \"r67519\", \"r67408\", \"r43921\", \"q95245\", \"r34781\", \"r71806\", \"r69331\", \"r68107\", \"r65528\",\n    \"r67795\", \"q96673\", \"r68609\", \"r72030\", \"r69558\", \"r43518\", \"r68239\", \"q93985\", \"r42977\", \"r69392\",\n    \"q96453\", \"r70466\", \"r68219\", \"r67749\", \"q95389\", \"r72154\", \"r56530\", \"r41033\"\n  ];\n\n  useEffect(() => {\n    const fetchSheet = async () => {\n      const response = await fetch(\"https://docs.google.com/spreadsheets/d/1v4rQWn6dYPVQPd-PkhvrDNgKVnexilrR2XIUVa5RKEM/export?format=csv&gid=0\");\n      const text = await response.text();\n      const rows = text.split(\"\\n\").map(r => r.split(\",\"));\n      const headers = rows[0];\n      const parsed = rows.slice(1).map(r => Object.fromEntries(r.map((v, i) => [headers[i], v])));\n      setData(parsed);\n      setModifiedData(parsed);\n    };\n    fetchSheet();\n  }, []);\n\n  useEffect(() => {\n    const counts = {};\n    modifiedData.forEach(row => {\n      const plate = row[\"Vehicle\"]?.trim().toLowerCase().replace(/\\s+/g, \"\");\n      if (plate) counts[plate] = (counts[plate] || 0) + 1;\n    });\n    setDuplicatePlates(Object.fromEntries(Object.entries(counts).filter(([_, c]) => c > 1)));\n  }, [modifiedData]);\n\n  const today = new Date();\n\n  const parseDate = (str) => {\n  if (!str || typeof str !== \"string\") return new Date(\"Invalid\");\n  const formats = [\"dd/MM/yyyy\", \"d-M-yyyy\", \"dd-MM-yyyy\", \"yyyy-MM-dd\"];\n  for (const format of formats) {\n    const parsed = parse(str, format, new Date());\n    if (!isNaN(parsed)) return parsed;\n  }\n  const fallback = new Date(str);\n  return isNaN(fallback) ? new Date(\"Invalid\") : fallback;\n};\n\n\n  const getDelayedCars = (rows) => {\n    return rows.filter(row => {\n      const damageKey = Object.keys(row).find(k => k.toLowerCase().includes(\"damag\"));\n      const dateOutKey = Object.keys(row).find(k => k.toLowerCase().includes(\"date out\"));\n      const dateInKey = Object.keys(row).find(k => k.toLowerCase().includes(\"date in\"));\n\n      const damage = damageKey && row[damageKey]?.toLowerCase();\n      const dateOutStr = dateOutKey && row[dateOutKey]?.trim();\n      const dateIn = dateInKey && row[dateInKey]?.trim();\n\n      if (!dateOutStr || dateIn) return false;\n\n      const dateOut = parseDate(dateOutStr);\n      if (isNaN(dateOut)) return false;\n\n      const daysPassed = differenceInDays(today, dateOut);\n\n      if (damage?.includes(\"oil\") && daysPassed > 3) return true;\n      if (damage?.includes(\"accident\") && daysPassed > 30) return true;\n      if (!damage?.includes(\"oil\") && !damage?.includes(\"accident\") && daysPassed > 3) return true;\n\n      return false;\n    });\n  };\n\n  const delayedCars = getDelayedCars(modifiedData);\n\n  const filtered = modifiedData.filter(row => {\n    const matchesSearch = Object.values(row).some(v => v.toLowerCase().includes(search.toLowerCase()));\n    const dateInKey = Object.keys(row).find(k => k.toLowerCase().includes(\"date in\"));\n    const damageKey = Object.keys(row).find(k => k.toLowerCase().includes(\"damag\"));\n    const damageText = damageKey && row[damageKey]?.toLowerCase();\n    const hasDate = dateInKey && row[dateInKey]?.trim() !== \"\";\n    const plate = row[\"Vehicle\"]?.trim().toLowerCase().replace(/\\s+/g, \"\");\n\n    if (filterMode === \"accident\") return matchesSearch && damageText?.includes(\"accident\") && !hasDate;\n    if (filterMode === \"invygo\") return matchesSearch && plate && invygoList.includes(plate) && !hasDate;\n    if (filterMode === \"ready\") return matchesSearch && hasDate;\n    if (filterMode === \"notready\") return matchesSearch && !hasDate;\nif (filterMode === \"duplicates\") {\n  if (!plate || !duplicatePlates[plate]) return false;\n  const dateIn = dateInKey && row[dateInKey]?.trim();\n  // تجاهل التكرار لو فيه تاريخ دخول\n  return !dateIn;\n}\n    if (filterMode === \"delayed\") return delayedCars.includes(row);\n    return matchesSearch;\n  });\n  const getRowStyle = (row) => {\n    const dateInKey = Object.keys(row).find(k => k.toLowerCase().includes(\"date in\"));\n    const damageKey = Object.keys(row).find(k => k.toLowerCase().includes(\"damag\"));\n    const dateIn = dateInKey && row[dateInKey]?.trim();\n    const damageText = damageKey && row[damageKey]?.toLowerCase();\n    const plate = row[\"Vehicle\"]?.trim().toLowerCase().replace(/\\s+/g, \"\");\n\n    const isInvygo = invygoList.includes(plate);\n    const isAccident = damageText?.includes(\"accident\") && !dateIn;\n    const isReady = Boolean(dateIn);\n\n    if (plate && duplicatePlates[plate]) return { backgroundColor: \"#e53935\", color: \"#fff\" };\n    if (delayedCars.includes(row)) return { backgroundColor: \"#ff7043\", color: \"#fff\" };\n   if (isInvygo && isReady) return { backgroundColor: \"#81c784\" };      // Invygo Repaired - Green\nif (isInvygo && !isReady) return { backgroundColor: \"#64b5f6\" };     // Invygo Not Ready - Blue\nif (!isInvygo && isReady) return { backgroundColor: \"#ce93d8\" };     // Yelo Repaired - Light Purple\nif (!isInvygo && !isReady) return { backgroundColor: \"#ffd600\" };    // Yelo Not Ready - Yellow\nif (isAccident) return { backgroundColor: \"#ef9a9a\" }; \n    return {};\n  };\n\n  const handleEdit = (rowIndex, key, value) => {\n    setModifiedData((prev) => {\n      const updated = [...prev];\n      updated[rowIndex] = { ...updated[rowIndex], [key]: value };\n      return updated;\n    });\n  };\n\n  const handleKeyDown = (e, rowIndex, colIndex) => {\n    const rowCount = filtered.length;\n    const colCount = Object.keys(filtered[0] || {}).length;\n    let nextRow = rowIndex;\n    let nextCol = colIndex;\n    if (e.key === \"ArrowRight\" && colIndex < colCount - 1) nextCol++;\n    if (e.key === \"ArrowLeft\" && colIndex > 0) nextCol--;\n    if (e.key === \"ArrowUp\" && rowIndex > 0) nextRow--;\n    if (e.key === \"ArrowDown\" && rowIndex < rowCount - 1) nextRow++;\n    if ([\"ArrowRight\", \"ArrowLeft\", \"ArrowUp\", \"ArrowDown\"].includes(e.key)) {\n      e.preventDefault();\n      const next = tableRef.current?.querySelector(`input[data-row='${nextRow}'][data-col='${nextCol}']`);\n      if (next) next.focus();\n    }\n    if (e.key === \"Enter\") e.target.blur();\n  };\n\n  const exportToExcel = () => {\n  const ws = XLSX.utils.json_to_sheet(filtered);\n  const wb = XLSX.utils.book_new();\n  XLSX.utils.book_append_sheet(wb, ws, \"Maintenance\");\n  XLSX.writeFile(wb, `Maintenance_${new Date().toISOString().slice(0, 10)}.xlsx`);\n};\n\n\n  function btnStyle(color) {\n    return { background: color, color: \"white\", padding: \"6px 10px\", fontSize: \"13px\", borderRadius: 8, border: \"none\", fontWeight: \"bold\" };\n  }\n\n  return (\n    \n    \n    <div style={{ padding: 20, fontFamily: \"Segoe UI\", position: \"relative\" }}>\n      {/* Back to YELO button */}\n      <a\n        href=\"https://moalamir52.github.io/Yelo/#dashboard\"\n        style={{\n          position: \"absolute\",\n          top: 100,\n          left: 150,\n          backgroundColor: \"#ffd600\",\n          color: \"#6a1b9a\",\n          padding: \"10px 20px\",\n          textDecoration: \"none\",\n          fontWeight: \"bold\",\n          borderRadius: \"8px\",\n          border: \"2px solid #6a1b9a\"\n        }}\n      >\n        🔙 Back to YELO\n      </a>\n\n      <div style={{ padding: 20, fontFamily: \"Segoe UI\" }}>\n      <div style={{ display: \"flex\", justifyContent: \"center\", gap: 20, flexWrap: \"wrap\", marginBottom: 20 }}>\n  <div style={{ background: \"#81c784\", padding: \"4px 8px\", borderRadius: 6, color: \"#000\" }}>⬤ Invygo - Repaired</div>\n  <div style={{ background: \"#64b5f6\", padding: \"4px 8px\", borderRadius: 6, color: \"#000\" }}>⬤ Invygo - Not Ready</div>\n  <div style={{ background: \"#ce93d8\", padding: \"4px 8px\", borderRadius: 6, color: \"#000\" }}>⬤ Yelo - Repaired</div>\n  <div style={{ background: \"#ef9a9a\", padding: \"4px 8px\", borderRadius: 6, color: \"#000\" }}>⬤ Accident - Not Ready</div>\n  <div style={{ background: \"#ffd600\", padding: \"4px 8px\", borderRadius: 6, color: \"#000\" }}>⬤ Yelo - Not Ready</div>\n  <div style={{ background: \"#ff7043\", padding: \"4px 8px\", borderRadius: 6, color: \"#fff\" }}>⬤ ⏱ Delayed</div>\n</div>\n\n\n      <h2 style={{ textAlign: \"center\", color: \"#6a1b9a\" }}>🛠 Maintenance Sheet Editor</h2>\n\n      <div style={{ display: \"flex\", justifyContent: \"center\", flexWrap: \"wrap\", gap: 10, marginBottom: 10 }}>\n  {[\n    { key: \"accident\", label: \"🚗 Car Accident\" },\n    { key: \"invygo\", label: \"📦 Invygo Cars\" },\n    { key: \"notready\", label: \"❌ Not Ready\" },\n    { key: \"duplicates\", label: \"🛑 Duplicates\" },\n    { key: \"delayed\", label: \"⏱ Show Delayed\" },\n    { key: \"all\", label: \"🔄 Show All\" },\n  ].map(btn => (\n    <button\n      key={btn.key}\n      onClick={() => setFilterMode(btn.key)}\n      style={{\n        backgroundColor: filterMode === btn.key ? \"#ce93d8\" : \"#ffd600\",\n        border: filterMode === btn.key ? \"2px solid #6a1b9a\" : \"1px solid #ccc\",\n        color: \"#4a148c\",\n        padding: \"8px 14px\",\n        borderRadius: \"8px\",\n        fontWeight: \"bold\",\n        cursor: \"pointer\",\n        fontSize: \"13px\",\n        transition: \"0.2s\",\n      }}\n    >\n      {btn.label}\n    </button>\n  ))}\n</div>\n\n      </div>\n\n      <div style={{ textAlign: \"center\", marginBottom: 10, color: \"#555\" }}>✅ Showing {filtered.length} result(s)</div>\n\n      {delayedCars.length > 0 && (\n  <div style={{ textAlign: \"center\", marginBottom: 10, color: \"red\", fontWeight: \"bold\" }}>\n    🚨 There are {delayedCars.length} cars delayed beyond the allowed time in the workshop!\n  </div>\n)}\n\n\n      <div ref={tableRef} style={{ overflowX: \"auto\", maxHeight: \"70vh\" }}>\n        <table style={{ borderCollapse: \"collapse\", width: \"100%\", border: \"2px solid #000\" }}>\n          <thead style={{ position: \"sticky\", top: 0, background: \"#ffc547\", color: \"#6a1b9a\" }}>\n            <tr>\n              <th style={{ border: \"1px solid #000\", padding: 8 }}>#</th>\n              {Object.keys(modifiedData[0] || {}).map((key, colIndex) => (\n  <th\n    key={key}\n    onClick={() => selectColumn(colIndex)}\n    style={{ border: \"1px solid #000\", padding: 8, cursor: \"pointer\", backgroundColor: \"#f3e5f5\" }}\n  >\n    {key}\n  </th>\n))}\n            </tr>\n          </thead>\n          <tbody>\n            {filtered.map((row, rowIndex) => (\n              <tr key={rowIndex} style={{ ...getRowStyle(row), backgroundColor: selectedRowIndex === rowIndex ? \"#c5cae9\" : getRowStyle(row).backgroundColor }}>\n                <td style={{ border: \"1px solid #000\", padding: 6, textAlign: \"center\" }} onClick={() => setSelectedRowIndex(rowIndex)}>{rowIndex + 1}</td>\n                {Object.entries(row).map(([key, value], colIndex) => (\n                  <td key={colIndex} style={{ border: \"1px solid #000\", padding: 6 }}>\n                    <input\n  value={value}\n  readOnly\n  style={{ width: \"100%\", border: \"none\", background: \"transparent\", pointerEvents: \"none\", color: \"#000\" }}\n/>\n                  </td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\n"],"mappings":";;AAAA;;AAEA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACnD,OAAO,KAAKC,IAAI,MAAM,MAAM;AAC5B,SAASC,gBAAgB,EAAEC,KAAK,QAAQ,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,eAAe,SAASC,iBAAiBA,CAAA,EAAG;EAAAC,EAAA;EAE1C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACY,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACc,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACkB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACoB,UAAU,EAAEC,aAAa,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACsB,eAAe,EAAEC,kBAAkB,CAAC,GAAGvB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1D,MAAMwB,QAAQ,GAAGtB,MAAM,CAAC,IAAI,CAAC;EAC/B,MAAMuB,YAAY,GAAIC,QAAQ,IAAK;IAAA,IAAAC,iBAAA;IACjC,MAAMC,KAAK,IAAAD,iBAAA,GAAGH,QAAQ,CAACK,OAAO,cAAAF,iBAAA,uBAAhBA,iBAAA,CAAkBG,gBAAgB,CAAC,gBAAgBJ,QAAQ,QAAQ,CAAC;IAClF,IAAIE,KAAK,aAALA,KAAK,eAALA,KAAK,CAAEG,MAAM,EAAE;MACjB,MAAMC,KAAK,GAAGC,QAAQ,CAACC,WAAW,CAAC,CAAC;MACpC,MAAMC,SAAS,GAAGC,MAAM,CAACC,YAAY,CAAC,CAAC;MACvCL,KAAK,CAACM,kBAAkB,CAACV,KAAK,CAAC,CAAC,CAAC,CAAC;MAClCI,KAAK,CAACO,QAAQ,CAACX,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MAC3BI,KAAK,CAACQ,MAAM,CAACZ,KAAK,CAACA,KAAK,CAACG,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;MACxCI,SAAS,CAACM,eAAe,CAAC,CAAC;MAC3BN,SAAS,CAACO,QAAQ,CAACV,KAAK,CAAC;IAC3B;EACF,CAAC;EAEC,MAAMW,UAAU,GAAG,CACjB,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAClG,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAC5G,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAC5G,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAC5G,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAC/G,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,EAC3G,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAC/G,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAC5G,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAC5G,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAC7G,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAC5G,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAC5G,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACzG,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAC5G,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAC5G,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,EAC3G,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EACtG,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EACtG,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EACrG,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAC5G,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAC5G,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAC5G,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAC5G,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAC1G,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAClG,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAClG,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAClG,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAClG,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAC/E;EAED1C,SAAS,CAAC,MAAM;IACd,MAAM2C,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6GAA6G,CAAC;MAC3I,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAI,CAAC,CAAC;MAClC,MAAMC,IAAI,GAAGD,IAAI,CAACE,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACF,KAAK,CAAC,GAAG,CAAC,CAAC;MACpD,MAAMG,OAAO,GAAGJ,IAAI,CAAC,CAAC,CAAC;MACvB,MAAMK,MAAM,GAAGL,IAAI,CAACM,KAAK,CAAC,CAAC,CAAC,CAACJ,GAAG,CAACC,CAAC,IAAII,MAAM,CAACC,WAAW,CAACL,CAAC,CAACD,GAAG,CAAC,CAACO,CAAC,EAAEC,CAAC,KAAK,CAACN,OAAO,CAACM,CAAC,CAAC,EAAED,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3F9C,OAAO,CAAC0C,MAAM,CAAC;MACftC,eAAe,CAACsC,MAAM,CAAC;IACzB,CAAC;IACDT,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN3C,SAAS,CAAC,MAAM;IACd,MAAM0D,MAAM,GAAG,CAAC,CAAC;IACjB7C,YAAY,CAAC8C,OAAO,CAACC,GAAG,IAAI;MAAA,IAAAC,YAAA;MAC1B,MAAMC,KAAK,IAAAD,YAAA,GAAGD,GAAG,CAAC,SAAS,CAAC,cAAAC,YAAA,uBAAdA,YAAA,CAAgBE,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;MACtE,IAAIH,KAAK,EAAEJ,MAAM,CAACI,KAAK,CAAC,GAAG,CAACJ,MAAM,CAACI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;IACrD,CAAC,CAAC;IACFxC,kBAAkB,CAACgC,MAAM,CAACC,WAAW,CAACD,MAAM,CAACY,OAAO,CAACR,MAAM,CAAC,CAACS,MAAM,CAAC,CAAC,CAACC,CAAC,EAAEC,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC1F,CAAC,EAAE,CAACxD,YAAY,CAAC,CAAC;EAElB,MAAMyD,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC;EAExB,MAAMC,SAAS,GAAIC,GAAG,IAAK;IAC3B,IAAI,CAACA,GAAG,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE,OAAO,IAAIF,IAAI,CAAC,SAAS,CAAC;IAC/D,MAAMG,OAAO,GAAG,CAAC,YAAY,EAAE,UAAU,EAAE,YAAY,EAAE,YAAY,CAAC;IACtE,KAAK,MAAMC,MAAM,IAAID,OAAO,EAAE;MAC5B,MAAMtB,MAAM,GAAGhD,KAAK,CAACqE,GAAG,EAAEE,MAAM,EAAE,IAAIJ,IAAI,CAAC,CAAC,CAAC;MAC7C,IAAI,CAACK,KAAK,CAACxB,MAAM,CAAC,EAAE,OAAOA,MAAM;IACnC;IACA,MAAMyB,QAAQ,GAAG,IAAIN,IAAI,CAACE,GAAG,CAAC;IAC9B,OAAOG,KAAK,CAACC,QAAQ,CAAC,GAAG,IAAIN,IAAI,CAAC,SAAS,CAAC,GAAGM,QAAQ;EACzD,CAAC;EAGC,MAAMC,cAAc,GAAI/B,IAAI,IAAK;IAC/B,OAAOA,IAAI,CAACoB,MAAM,CAACP,GAAG,IAAI;MAAA,IAAAmB,cAAA,EAAAC,eAAA,EAAAC,cAAA;MACxB,MAAMC,SAAS,GAAG5B,MAAM,CAAC6B,IAAI,CAACvB,GAAG,CAAC,CAACwB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACrB,WAAW,CAAC,CAAC,CAACsB,QAAQ,CAAC,OAAO,CAAC,CAAC;MAC/E,MAAMC,UAAU,GAAGjC,MAAM,CAAC6B,IAAI,CAACvB,GAAG,CAAC,CAACwB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACrB,WAAW,CAAC,CAAC,CAACsB,QAAQ,CAAC,UAAU,CAAC,CAAC;MACnF,MAAME,SAAS,GAAGlC,MAAM,CAAC6B,IAAI,CAACvB,GAAG,CAAC,CAACwB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACrB,WAAW,CAAC,CAAC,CAACsB,QAAQ,CAAC,SAAS,CAAC,CAAC;MAEjF,MAAMG,MAAM,GAAGP,SAAS,MAAAH,cAAA,GAAInB,GAAG,CAACsB,SAAS,CAAC,cAAAH,cAAA,uBAAdA,cAAA,CAAgBf,WAAW,CAAC,CAAC;MACzD,MAAM0B,UAAU,GAAGH,UAAU,MAAAP,eAAA,GAAIpB,GAAG,CAAC2B,UAAU,CAAC,cAAAP,eAAA,uBAAfA,eAAA,CAAiBjB,IAAI,CAAC,CAAC;MACxD,MAAM4B,MAAM,GAAGH,SAAS,MAAAP,cAAA,GAAIrB,GAAG,CAAC4B,SAAS,CAAC,cAAAP,cAAA,uBAAdA,cAAA,CAAgBlB,IAAI,CAAC,CAAC;MAElD,IAAI,CAAC2B,UAAU,IAAIC,MAAM,EAAE,OAAO,KAAK;MAEvC,MAAMC,OAAO,GAAGpB,SAAS,CAACkB,UAAU,CAAC;MACrC,IAAId,KAAK,CAACgB,OAAO,CAAC,EAAE,OAAO,KAAK;MAEhC,MAAMC,UAAU,GAAG1F,gBAAgB,CAACmE,KAAK,EAAEsB,OAAO,CAAC;MAEnD,IAAIH,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEH,QAAQ,CAAC,KAAK,CAAC,IAAIO,UAAU,GAAG,CAAC,EAAE,OAAO,IAAI;MAC1D,IAAIJ,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEH,QAAQ,CAAC,UAAU,CAAC,IAAIO,UAAU,GAAG,EAAE,EAAE,OAAO,IAAI;MAChE,IAAI,EAACJ,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEH,QAAQ,CAAC,KAAK,CAAC,KAAI,EAACG,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEH,QAAQ,CAAC,UAAU,CAAC,KAAIO,UAAU,GAAG,CAAC,EAAE,OAAO,IAAI;MAE5F,OAAO,KAAK;IACd,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,WAAW,GAAGhB,cAAc,CAACjE,YAAY,CAAC;EAEhD,MAAMkF,QAAQ,GAAGlF,YAAY,CAACsD,MAAM,CAACP,GAAG,IAAI;IAAA,IAAAoC,eAAA,EAAAC,eAAA,EAAAC,aAAA;IAC1C,MAAMC,aAAa,GAAG7C,MAAM,CAAC8C,MAAM,CAACxC,GAAG,CAAC,CAACyC,IAAI,CAAC7C,CAAC,IAAIA,CAAC,CAACQ,WAAW,CAAC,CAAC,CAACsB,QAAQ,CAAC3E,MAAM,CAACqD,WAAW,CAAC,CAAC,CAAC,CAAC;IAClG,MAAMwB,SAAS,GAAGlC,MAAM,CAAC6B,IAAI,CAACvB,GAAG,CAAC,CAACwB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACrB,WAAW,CAAC,CAAC,CAACsB,QAAQ,CAAC,SAAS,CAAC,CAAC;IACjF,MAAMJ,SAAS,GAAG5B,MAAM,CAAC6B,IAAI,CAACvB,GAAG,CAAC,CAACwB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACrB,WAAW,CAAC,CAAC,CAACsB,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC/E,MAAMgB,UAAU,GAAGpB,SAAS,MAAAc,eAAA,GAAIpC,GAAG,CAACsB,SAAS,CAAC,cAAAc,eAAA,uBAAdA,eAAA,CAAgBhC,WAAW,CAAC,CAAC;IAC7D,MAAMuC,OAAO,GAAGf,SAAS,IAAI,EAAAS,eAAA,GAAArC,GAAG,CAAC4B,SAAS,CAAC,cAAAS,eAAA,uBAAdA,eAAA,CAAgBlC,IAAI,CAAC,CAAC,MAAK,EAAE;IAC1D,MAAMD,KAAK,IAAAoC,aAAA,GAAGtC,GAAG,CAAC,SAAS,CAAC,cAAAsC,aAAA,uBAAdA,aAAA,CAAgBnC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;IAEtE,IAAI9C,UAAU,KAAK,UAAU,EAAE,OAAOgF,aAAa,KAAIG,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEhB,QAAQ,CAAC,UAAU,CAAC,KAAI,CAACiB,OAAO;IACnG,IAAIpF,UAAU,KAAK,QAAQ,EAAE,OAAOgF,aAAa,IAAIrC,KAAK,IAAIpB,UAAU,CAAC4C,QAAQ,CAACxB,KAAK,CAAC,IAAI,CAACyC,OAAO;IACpG,IAAIpF,UAAU,KAAK,OAAO,EAAE,OAAOgF,aAAa,IAAII,OAAO;IAC3D,IAAIpF,UAAU,KAAK,UAAU,EAAE,OAAOgF,aAAa,IAAI,CAACI,OAAO;IACnE,IAAIpF,UAAU,KAAK,YAAY,EAAE;MAAA,IAAAqF,eAAA;MAC/B,IAAI,CAAC1C,KAAK,IAAI,CAACzC,eAAe,CAACyC,KAAK,CAAC,EAAE,OAAO,KAAK;MACnD,MAAM6B,MAAM,GAAGH,SAAS,MAAAgB,eAAA,GAAI5C,GAAG,CAAC4B,SAAS,CAAC,cAAAgB,eAAA,uBAAdA,eAAA,CAAgBzC,IAAI,CAAC,CAAC;MAClD;MACA,OAAO,CAAC4B,MAAM;IAChB;IACI,IAAIxE,UAAU,KAAK,SAAS,EAAE,OAAO2E,WAAW,CAACR,QAAQ,CAAC1B,GAAG,CAAC;IAC9D,OAAOuC,aAAa;EACtB,CAAC,CAAC;EACF,MAAMM,WAAW,GAAI7C,GAAG,IAAK;IAAA,IAAA8C,eAAA,EAAAC,eAAA,EAAAC,aAAA;IAC3B,MAAMpB,SAAS,GAAGlC,MAAM,CAAC6B,IAAI,CAACvB,GAAG,CAAC,CAACwB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACrB,WAAW,CAAC,CAAC,CAACsB,QAAQ,CAAC,SAAS,CAAC,CAAC;IACjF,MAAMJ,SAAS,GAAG5B,MAAM,CAAC6B,IAAI,CAACvB,GAAG,CAAC,CAACwB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACrB,WAAW,CAAC,CAAC,CAACsB,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC/E,MAAMK,MAAM,GAAGH,SAAS,MAAAkB,eAAA,GAAI9C,GAAG,CAAC4B,SAAS,CAAC,cAAAkB,eAAA,uBAAdA,eAAA,CAAgB3C,IAAI,CAAC,CAAC;IAClD,MAAMuC,UAAU,GAAGpB,SAAS,MAAAyB,eAAA,GAAI/C,GAAG,CAACsB,SAAS,CAAC,cAAAyB,eAAA,uBAAdA,eAAA,CAAgB3C,WAAW,CAAC,CAAC;IAC7D,MAAMF,KAAK,IAAA8C,aAAA,GAAGhD,GAAG,CAAC,SAAS,CAAC,cAAAgD,aAAA,uBAAdA,aAAA,CAAgB7C,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;IAEtE,MAAM4C,QAAQ,GAAGnE,UAAU,CAAC4C,QAAQ,CAACxB,KAAK,CAAC;IAC3C,MAAMgD,UAAU,GAAG,CAAAR,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEhB,QAAQ,CAAC,UAAU,CAAC,KAAI,CAACK,MAAM;IAC9D,MAAMoB,OAAO,GAAGC,OAAO,CAACrB,MAAM,CAAC;IAE/B,IAAI7B,KAAK,IAAIzC,eAAe,CAACyC,KAAK,CAAC,EAAE,OAAO;MAAEmD,eAAe,EAAE,SAAS;MAAEC,KAAK,EAAE;IAAO,CAAC;IACzF,IAAIpB,WAAW,CAACR,QAAQ,CAAC1B,GAAG,CAAC,EAAE,OAAO;MAAEqD,eAAe,EAAE,SAAS;MAAEC,KAAK,EAAE;IAAO,CAAC;IACpF,IAAIL,QAAQ,IAAIE,OAAO,EAAE,OAAO;MAAEE,eAAe,EAAE;IAAU,CAAC,CAAC,CAAM;IACxE,IAAIJ,QAAQ,IAAI,CAACE,OAAO,EAAE,OAAO;MAAEE,eAAe,EAAE;IAAU,CAAC,CAAC,CAAK;IACrE,IAAI,CAACJ,QAAQ,IAAIE,OAAO,EAAE,OAAO;MAAEE,eAAe,EAAE;IAAU,CAAC,CAAC,CAAK;IACrE,IAAI,CAACJ,QAAQ,IAAI,CAACE,OAAO,EAAE,OAAO;MAAEE,eAAe,EAAE;IAAU,CAAC,CAAC,CAAI;IACrE,IAAIH,UAAU,EAAE,OAAO;MAAEG,eAAe,EAAE;IAAU,CAAC;IACjD,OAAO,CAAC,CAAC;EACX,CAAC;EAED,MAAME,UAAU,GAAGA,CAACC,QAAQ,EAAEC,GAAG,EAAEC,KAAK,KAAK;IAC3CxG,eAAe,CAAEyG,IAAI,IAAK;MACxB,MAAMC,OAAO,GAAG,CAAC,GAAGD,IAAI,CAAC;MACzBC,OAAO,CAACJ,QAAQ,CAAC,GAAG;QAAE,GAAGI,OAAO,CAACJ,QAAQ,CAAC;QAAE,CAACC,GAAG,GAAGC;MAAM,CAAC;MAC1D,OAAOE,OAAO;IAChB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,aAAa,GAAGA,CAACC,CAAC,EAAEN,QAAQ,EAAE3F,QAAQ,KAAK;IAC/C,MAAMkG,QAAQ,GAAG5B,QAAQ,CAACjE,MAAM;IAChC,MAAM8F,QAAQ,GAAGtE,MAAM,CAAC6B,IAAI,CAACY,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAACjE,MAAM;IACtD,IAAI+F,OAAO,GAAGT,QAAQ;IACtB,IAAIU,OAAO,GAAGrG,QAAQ;IACtB,IAAIiG,CAAC,CAACL,GAAG,KAAK,YAAY,IAAI5F,QAAQ,GAAGmG,QAAQ,GAAG,CAAC,EAAEE,OAAO,EAAE;IAChE,IAAIJ,CAAC,CAACL,GAAG,KAAK,WAAW,IAAI5F,QAAQ,GAAG,CAAC,EAAEqG,OAAO,EAAE;IACpD,IAAIJ,CAAC,CAACL,GAAG,KAAK,SAAS,IAAID,QAAQ,GAAG,CAAC,EAAES,OAAO,EAAE;IAClD,IAAIH,CAAC,CAACL,GAAG,KAAK,WAAW,IAAID,QAAQ,GAAGO,QAAQ,GAAG,CAAC,EAAEE,OAAO,EAAE;IAC/D,IAAI,CAAC,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE,WAAW,CAAC,CAACvC,QAAQ,CAACoC,CAAC,CAACL,GAAG,CAAC,EAAE;MAAA,IAAAU,kBAAA;MACvEL,CAAC,CAACM,cAAc,CAAC,CAAC;MAClB,MAAMC,IAAI,IAAAF,kBAAA,GAAGxG,QAAQ,CAACK,OAAO,cAAAmG,kBAAA,uBAAhBA,kBAAA,CAAkBG,aAAa,CAAC,mBAAmBL,OAAO,gBAAgBC,OAAO,IAAI,CAAC;MACnG,IAAIG,IAAI,EAAEA,IAAI,CAACE,KAAK,CAAC,CAAC;IACxB;IACA,IAAIT,CAAC,CAACL,GAAG,KAAK,OAAO,EAAEK,CAAC,CAACU,MAAM,CAACC,IAAI,CAAC,CAAC;EACxC,CAAC;EAED,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC5B,MAAMC,EAAE,GAAGrI,IAAI,CAACsI,KAAK,CAACC,aAAa,CAAC1C,QAAQ,CAAC;IAC7C,MAAM2C,EAAE,GAAGxI,IAAI,CAACsI,KAAK,CAACG,QAAQ,CAAC,CAAC;IAChCzI,IAAI,CAACsI,KAAK,CAACI,iBAAiB,CAACF,EAAE,EAAEH,EAAE,EAAE,aAAa,CAAC;IACnDrI,IAAI,CAAC2I,SAAS,CAACH,EAAE,EAAE,eAAe,IAAInE,IAAI,CAAC,CAAC,CAACuE,WAAW,CAAC,CAAC,CAACzF,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC;EACjF,CAAC;EAGC,SAAS0F,QAAQA,CAAC7B,KAAK,EAAE;IACvB,OAAO;MAAE8B,UAAU,EAAE9B,KAAK;MAAEA,KAAK,EAAE,OAAO;MAAE+B,OAAO,EAAE,UAAU;MAAEC,QAAQ,EAAE,MAAM;MAAEC,YAAY,EAAE,CAAC;MAAEC,MAAM,EAAE,MAAM;MAAEC,UAAU,EAAE;IAAO,CAAC;EAC1I;EAEA,oBAGE/I,OAAA;IAAKgJ,KAAK,EAAE;MAAEL,OAAO,EAAE,EAAE;MAAEM,UAAU,EAAE,UAAU;MAAEC,QAAQ,EAAE;IAAW,CAAE;IAAAC,QAAA,gBAExEnJ,OAAA;MACEoJ,IAAI,EAAC,8CAA8C;MACnDJ,KAAK,EAAE;QACLE,QAAQ,EAAE,UAAU;QACpBG,GAAG,EAAE,GAAG;QACRC,IAAI,EAAE,GAAG;QACT3C,eAAe,EAAE,SAAS;QAC1BC,KAAK,EAAE,SAAS;QAChB+B,OAAO,EAAE,WAAW;QACpBY,cAAc,EAAE,MAAM;QACtBR,UAAU,EAAE,MAAM;QAClBF,YAAY,EAAE,KAAK;QACnBC,MAAM,EAAE;MACV,CAAE;MAAAK,QAAA,EACH;IAED;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAEJ3J,OAAA;MAAKgJ,KAAK,EAAE;QAAEL,OAAO,EAAE,EAAE;QAAEM,UAAU,EAAE;MAAW,CAAE;MAAAE,QAAA,gBACpDnJ,OAAA;QAAKgJ,KAAK,EAAE;UAAEY,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE,QAAQ;UAAEC,GAAG,EAAE,EAAE;UAAEC,QAAQ,EAAE,MAAM;UAAEC,YAAY,EAAE;QAAG,CAAE;QAAAb,QAAA,gBAC3GnJ,OAAA;UAAKgJ,KAAK,EAAE;YAAEN,UAAU,EAAE,SAAS;YAAEC,OAAO,EAAE,SAAS;YAAEE,YAAY,EAAE,CAAC;YAAEjC,KAAK,EAAE;UAAO,CAAE;UAAAuC,QAAA,EAAC;QAAmB;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACpH3J,OAAA;UAAKgJ,KAAK,EAAE;YAAEN,UAAU,EAAE,SAAS;YAAEC,OAAO,EAAE,SAAS;YAAEE,YAAY,EAAE,CAAC;YAAEjC,KAAK,EAAE;UAAO,CAAE;UAAAuC,QAAA,EAAC;QAAoB;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACrH3J,OAAA;UAAKgJ,KAAK,EAAE;YAAEN,UAAU,EAAE,SAAS;YAAEC,OAAO,EAAE,SAAS;YAAEE,YAAY,EAAE,CAAC;YAAEjC,KAAK,EAAE;UAAO,CAAE;UAAAuC,QAAA,EAAC;QAAiB;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAClH3J,OAAA;UAAKgJ,KAAK,EAAE;YAAEN,UAAU,EAAE,SAAS;YAAEC,OAAO,EAAE,SAAS;YAAEE,YAAY,EAAE,CAAC;YAAEjC,KAAK,EAAE;UAAO,CAAE;UAAAuC,QAAA,EAAC;QAAsB;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACvH3J,OAAA;UAAKgJ,KAAK,EAAE;YAAEN,UAAU,EAAE,SAAS;YAAEC,OAAO,EAAE,SAAS;YAAEE,YAAY,EAAE,CAAC;YAAEjC,KAAK,EAAE;UAAO,CAAE;UAAAuC,QAAA,EAAC;QAAkB;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACnH3J,OAAA;UAAKgJ,KAAK,EAAE;YAAEN,UAAU,EAAE,SAAS;YAAEC,OAAO,EAAE,SAAS;YAAEE,YAAY,EAAE,CAAC;YAAEjC,KAAK,EAAE;UAAO,CAAE;UAAAuC,QAAA,EAAC;QAAW;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzG,CAAC,eAGA3J,OAAA;QAAIgJ,KAAK,EAAE;UAAEiB,SAAS,EAAE,QAAQ;UAAErD,KAAK,EAAE;QAAU,CAAE;QAAAuC,QAAA,EAAC;MAA2B;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAEtF3J,OAAA;QAAKgJ,KAAK,EAAE;UAAEY,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE,QAAQ;UAAEE,QAAQ,EAAE,MAAM;UAAED,GAAG,EAAE,EAAE;UAAEE,YAAY,EAAE;QAAG,CAAE;QAAAb,QAAA,EAC1G,CACC;UAAEpC,GAAG,EAAE,UAAU;UAAEmD,KAAK,EAAE;QAAkB,CAAC,EAC7C;UAAEnD,GAAG,EAAE,QAAQ;UAAEmD,KAAK,EAAE;QAAiB,CAAC,EAC1C;UAAEnD,GAAG,EAAE,UAAU;UAAEmD,KAAK,EAAE;QAAc,CAAC,EACzC;UAAEnD,GAAG,EAAE,YAAY;UAAEmD,KAAK,EAAE;QAAgB,CAAC,EAC7C;UAAEnD,GAAG,EAAE,SAAS;UAAEmD,KAAK,EAAE;QAAiB,CAAC,EAC3C;UAAEnD,GAAG,EAAE,KAAK;UAAEmD,KAAK,EAAE;QAAc,CAAC,CACrC,CAACvH,GAAG,CAACwH,GAAG,iBACPnK,OAAA;UAEEoK,OAAO,EAAEA,CAAA,KAAMtJ,aAAa,CAACqJ,GAAG,CAACpD,GAAG,CAAE;UACtCiC,KAAK,EAAE;YACLrC,eAAe,EAAE9F,UAAU,KAAKsJ,GAAG,CAACpD,GAAG,GAAG,SAAS,GAAG,SAAS;YAC/D+B,MAAM,EAAEjI,UAAU,KAAKsJ,GAAG,CAACpD,GAAG,GAAG,mBAAmB,GAAG,gBAAgB;YACvEH,KAAK,EAAE,SAAS;YAChB+B,OAAO,EAAE,UAAU;YACnBE,YAAY,EAAE,KAAK;YACnBE,UAAU,EAAE,MAAM;YAClBsB,MAAM,EAAE,SAAS;YACjBzB,QAAQ,EAAE,MAAM;YAChB0B,UAAU,EAAE;UACd,CAAE;UAAAnB,QAAA,EAEDgB,GAAG,CAACD;QAAK,GAdLC,GAAG,CAACpD,GAAG;UAAAyC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAeN,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEK,CAAC,eAEN3J,OAAA;MAAKgJ,KAAK,EAAE;QAAEiB,SAAS,EAAE,QAAQ;QAAED,YAAY,EAAE,EAAE;QAAEpD,KAAK,EAAE;MAAO,CAAE;MAAAuC,QAAA,GAAC,iBAAU,EAAC1D,QAAQ,CAACjE,MAAM,EAAC,YAAU;IAAA;MAAAgI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EAEhHnE,WAAW,CAAChE,MAAM,GAAG,CAAC,iBAC3BxB,OAAA;MAAKgJ,KAAK,EAAE;QAAEiB,SAAS,EAAE,QAAQ;QAAED,YAAY,EAAE,EAAE;QAAEpD,KAAK,EAAE,KAAK;QAAEmC,UAAU,EAAE;MAAO,CAAE;MAAAI,QAAA,GAAC,yBAC1E,EAAC3D,WAAW,CAAChE,MAAM,EAAC,wDACnC;IAAA;MAAAgI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACN,eAGK3J,OAAA;MAAKuK,GAAG,EAAEtJ,QAAS;MAAC+H,KAAK,EAAE;QAAEwB,SAAS,EAAE,MAAM;QAAEC,SAAS,EAAE;MAAO,CAAE;MAAAtB,QAAA,eAClEnJ,OAAA;QAAOgJ,KAAK,EAAE;UAAE0B,cAAc,EAAE,UAAU;UAAEC,KAAK,EAAE,MAAM;UAAE7B,MAAM,EAAE;QAAiB,CAAE;QAAAK,QAAA,gBACpFnJ,OAAA;UAAOgJ,KAAK,EAAE;YAAEE,QAAQ,EAAE,QAAQ;YAAEG,GAAG,EAAE,CAAC;YAAEX,UAAU,EAAE,SAAS;YAAE9B,KAAK,EAAE;UAAU,CAAE;UAAAuC,QAAA,eACpFnJ,OAAA;YAAAmJ,QAAA,gBACEnJ,OAAA;cAAIgJ,KAAK,EAAE;gBAAEF,MAAM,EAAE,gBAAgB;gBAAEH,OAAO,EAAE;cAAE,CAAE;cAAAQ,QAAA,EAAC;YAAC;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAC1D3G,MAAM,CAAC6B,IAAI,CAACtE,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAACoC,GAAG,CAAC,CAACoE,GAAG,EAAE5F,QAAQ,kBAClEnB,OAAA;cAEEoK,OAAO,EAAEA,CAAA,KAAMlJ,YAAY,CAACC,QAAQ,CAAE;cACtC6H,KAAK,EAAE;gBAAEF,MAAM,EAAE,gBAAgB;gBAAEH,OAAO,EAAE,CAAC;gBAAE0B,MAAM,EAAE,SAAS;gBAAE1D,eAAe,EAAE;cAAU,CAAE;cAAAwC,QAAA,EAE9FpC;YAAG,GAJCA,GAAG;cAAAyC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAKN,CACL,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACc;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR3J,OAAA;UAAAmJ,QAAA,EACG1D,QAAQ,CAAC9C,GAAG,CAAC,CAACW,GAAG,EAAEwD,QAAQ,kBAC1B9G,OAAA;YAAmBgJ,KAAK,EAAE;cAAE,GAAG7C,WAAW,CAAC7C,GAAG,CAAC;cAAEqD,eAAe,EAAEhG,gBAAgB,KAAKmG,QAAQ,GAAG,SAAS,GAAGX,WAAW,CAAC7C,GAAG,CAAC,CAACqD;YAAgB,CAAE;YAAAwC,QAAA,gBAC/InJ,OAAA;cAAIgJ,KAAK,EAAE;gBAAEF,MAAM,EAAE,gBAAgB;gBAAEH,OAAO,EAAE,CAAC;gBAAEsB,SAAS,EAAE;cAAS,CAAE;cAACG,OAAO,EAAEA,CAAA,KAAMxJ,mBAAmB,CAACkG,QAAQ,CAAE;cAAAqC,QAAA,EAAErC,QAAQ,GAAG;YAAC;cAAA0C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,EAC1I3G,MAAM,CAACY,OAAO,CAACN,GAAG,CAAC,CAACX,GAAG,CAAC,CAAC,CAACoE,GAAG,EAAEC,KAAK,CAAC,EAAE7F,QAAQ,kBAC9CnB,OAAA;cAAmBgJ,KAAK,EAAE;gBAAEF,MAAM,EAAE,gBAAgB;gBAAEH,OAAO,EAAE;cAAE,CAAE;cAAAQ,QAAA,eACjEnJ,OAAA;gBAClBgH,KAAK,EAAEA,KAAM;gBACb4D,QAAQ;gBACR5B,KAAK,EAAE;kBAAE2B,KAAK,EAAE,MAAM;kBAAE7B,MAAM,EAAE,MAAM;kBAAEJ,UAAU,EAAE,aAAa;kBAAEmC,aAAa,EAAE,MAAM;kBAAEjE,KAAK,EAAE;gBAAO;cAAE;gBAAA4C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3G;YAAC,GALyBxI,QAAQ;cAAAqI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAMb,CACL,CAAC;UAAA,GAVK7C,QAAQ;YAAA0C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAWb,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACzJ,EAAA,CArTuBD,iBAAiB;AAAA6K,EAAA,GAAjB7K,iBAAiB;AAAA,IAAA6K,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}